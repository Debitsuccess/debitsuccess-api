openapi: 3.0.1
info:
  title: Customer Services API
  description: |
    ## Overview
    The Customer Services API has end points that allows you to manage customer details, payment schedules, account information, view payment history, and much more.

    ## Environments
    **Test Environment**    https://oc-test.debitsuccess.com/CustomerServices/v1.0

    **Live Environment**    https://oc.debitsuccess.com/CustomerServices/v1.0

    ## Authentication 
    Please visit [Debitsuccess Identity Service](../docs/Introduction/2-Authentication.md) 

    ## Resources
    |  Resources  | Supported Methods   |Purpose |
    |  --- | --- | --- |
    | [Customers](../CustomerServicesApi.yaml/paths/~1customers/get)| <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PUT</span> <span style="background-color:orange; color:white"> PATCH</span>  |  Customer API can create, delete, and update the personal information of a customer. Fetch specific customer information and list all customers’ details.  |
    | [Business Accounts](../CustomerServicesApi.yaml/paths/~1businessAccounts/get) | <span style="background-color:lightgreen; color:white"> GET</span>  |Retrieves a list of Business Account(s) (also known as FacilityAccounts) based on the business ID provided. If none provided, all Business Accounts assigned to the client derived from the authentication token will be returned. |
    | [Accounts](../CustomerServicesApi.yaml/paths/~1accounts/get) | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PUT</span> <span style="background-color:orange; color:white"> PATCH</span> | An Account is referred to the contract with your customers for the services you offer. Within the Account API, you can execute account management functions through the API methods, including: <ul><li> Get information about an account and amount. </li><li>Create an account with a payment schedule. </li><li> Adjust the contract amount and change the terms of an account.  </li><li>Update default payment method for an existing account. </li><li>Get a list all accounts within a business based on various search criteria.</li><li>Close an account.</li></ul>|
    | [Suspension Schedules](../CustomerServicesApi.yaml/paths/~1accounts~1%7BaccountId%7D~1suspensionSchedules/get)  | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PATCH</span> <span style="background-color:red; color:white"> DELETE</span> | An account is suspended when the regular payments on an account are on hold due to a customer going on holiday or medical reasons. Suspensions can be indefinite – no end date of suspension. For more information see [Suspend an account](https://debitsuccess.atlassian.net/wiki/spaces/DDE/pages/1299022463/Suspend+an+account). Using the Suspension Schedule API, set up, retrieve, edit or delete a suspension schedule for an account.     |
    | [Recurring schedule](../CustomerServicesApi.yaml/paths/~1accounts~1%7BaccountId%7D~1recurringSchedules/get)  | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span>  <span style="background-color:red; color:white"> DELETE</span>  | Create, retrieve, and delete an recurring schedule for an account.  |
    | [One-off Schedules](../CustomerServicesApi.yaml/paths/~1accounts~1%7BaccountId%7D~1oneOffSchedules/get)   | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span>  <span style="background-color:red; color:white"> DELETE</span>  |  Create, retrieve, and delete an one-off schedule for an account.  |
    | [Addresses](../CustomerServicesApi.yaml/paths/~1customers~1%7BcustomerId%7D~1addresses/get)    | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PUT</span> <span style="background-color:red; color:white"> DELETE</span> | Address API method can create, update, and delete address of an existing customer. Fetch a specific address or all addresses of a customer. |
    | [Phone numbers](../CustomerServicesApi.yaml/paths/~1customers~1%7BcustomerId%7D~1phoneNumbers/get)  | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PUT</span> <span style="background-color:red; color:white"> DELETE</span>   | Phone Number API method can create, update, and delete an email address of an existing customer. Fetch a specific phone number or all phone numbers of a customer. |
    | [Email addresses](../CustomerServicesApi.yaml/paths/~1customers~1%7BcustomerId%7D~1emailAddresses/get)  | <span style="background-color:lightgreen; color:white"> GET</span> <span style="background-color:skyblue; color:white">  POST</span> <span style="background-color:orange; color:white"> PUT</span> <span style="background-color:red; color:white"> DELETE</span>  | Email address API method can create, update, and delete email address of an existing customer. Fetch a specific email address or all email addresses of a customer. |
    | [Overdue status changes](../CustomerServicesApi.yaml/paths/~1overdueStatusChanges/get)  | <span style="background-color:lightgreen; color:white"> GET</span>   | Retrieve the details of overdue statuses or amount changes based on the specified date range. |
    | [Payment History](../CustomerServicesApi.yaml/paths/~1payments/get)  | <span style="background-color:lightgreen; color:white"> GET</span>   | Retrieves the payment history for by the specified customer or business account.  |
    | [Terms and Condition](../CustomerServicesApi.yaml/paths/~1businessAccounts~1%7BbusinessAccountId%7D~1termsAndConditions/get)  |  <span style="background-color:lightgreen; color:white"> GET</span>  | Retrieves the terms and conditions associated with the BusinessAccountId.  |
    | [PaymentTokens](../CustomerServicesApi.yaml/paths/~1accounts~1%7BaccountId%7D~1paymentTokens/post) |  <span style="background-color:skyblue; color:white">  POST</span>   |The payment token APIs allow integrators to generate a unique link for the Debitsuccess [Paynow UI](https://paynow.debitsuccess.com/(S(zevyqenvd1zj4qdgcidlomer))/), then when the customer is redirected to the link it allows them to process a real time credit card payment either for a specified Debitsuccess account (account payment) or for a specified business (casual payment). <ul><li> **Note**: The unique link is valid for 10 minutes and can only be used once. After 10 minutes the customer can complete the payment if they have opened the link but they will get an error if they try to open the link after that time.</li></ul>  |
    | [Businesses](../CustomerServicesApi.yaml/paths/~1businesses/get)  | <span style="background-color:lightgreen; color:white"> GET</span>  | Retrieves a list of businesses (Facility DS domain) assigned to the client ID that is used for authenticating with the Debitsuccess authentication server. Multiple businesses can be assigned to a single client ID.  |
    | [Payment Status](../CustomerServicesApi.yaml/paths/~1businesses~1%7BbusinessID%7D~1paymentstatuses/get)  | <span style="background-color:lightgreen; color:white"> GET</span>  | Returns payment statuses for Gateway Accounts based on the input parameters provided.  |
    | [Payment Methods](../CustomerServicesApi.yaml/paths/~1customers~1%7BcustomerId%7D~1paymentMethods/get)  | <span style="background-color:lightgreen; color:white"> GET</span>  | Retrieves payment method based on customer ID or account ID provided in the query path.  |
  contact:
    email: TestAPI.Support@debitsuccess.com
  version: V1.0
servers:
  - url: 'https://oc-test.debitsuccess.com/CustomerServices/v1.0'
tags:
  - name: Customers
  - name: BusinessAccounts
  - name: Accounts
  - name: Schedules-Suspension
  - name: Schedules-Recurring
  - name: Schedules-OneOff
  - name: Addresses
  - name: PhoneNumbers
  - name: EmailAddresses
  - name: OverdueStatusChanges
  - name: Payment History
  - name: Terms and Conditions
  - name: PaymentToken
  - name: Businesses
  - name: Payment Status
  - name: Payment Methods
paths:
  /customers:
    post:
      tags:
        - Customers
      summary: Create Customer
      description: Creates a customer that can be used to create and manage multiple billing accounts across businesses.
      operationId: customers
      parameters:
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |-
          Exactly one address + one email + one phone number are required when creating a new customer.
          All of them will be created as 'Primary' contact of their own type for the customer (i.e. isPrimary="true").
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCustomerRequest'
            examples:
              example-1:
                value:
                  businessId: '3333333'
                  customerType: Individual
                  title: Mr
                  firstName: John
                  middleName: smith
                  lastName: doe
                  gender: male
                  dateOfBirth: '2019-01-01'
                  externalReference: abc1453
                  address:
                    addressLine1: 5 The warehouse way
                    addressLine2: Northcote
                    suburb: Northcote
                    postcode: '1062'
                    state: ''
                    city: ''
                    countryISOCode: NZL
                    addressType: postal
                  emailAddress:
                    emailName: john
                    emailAddress: john.doe@debitsuccess.com
                  phoneNumber:
                    phoneName: John
                    countryCode: '+64'
                    areaCode: '09'
                    phoneNumber: 264 5555
                    phoneType: home
      responses:
        '201':
          description: Customer resource is successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreateCustomer'
              examples:
                example-1:
                  value:
                    customerId: '1234567'
                    businessId: '3333333'
                    customerType: Individual
                    title: Mr
                    firstName: John
                    middleName: smith
                    lastName: doe
                    gender: male
                    dateOfBirth: '2019-01-01'
                    externalReference: abc1453
                    address:
                      addressId: '8888888'
                      addressLine1: 5 The warehouse way
                      addressLine2: Northcote
                      suburb: Northcote
                      postcode: '1062'
                      city: ''
                      state: ''
                      countryISOCode: NZL
                      addressType: postal
                      isPrimary: true
                    emailAddress:
                      emailId: '9999999'
                      emailName: John
                      emailAddress: john.doe@debitsuccess.com
                      isPrimary: 'true'
                    phoneNumber:
                      phoneNumberId: '7777777'
                      phoneName: John
                      countryCode: '+64'
                      areaCode: '09'
                      phoneNumber: 264 5555
                      phoneType: home
                      isPrimary: 'true'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreateCustomer'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: businessId
                    message: BusinessId is required.
                  - field: customerType
                    message: CustomerType is required.
                  - field: customerType
                    message: CustomerType is invalid.
                  - field: title
                    message: Title must not exceed 10 characters.
                  - field: title
                    message: Title is not required for Business customer.
                  - field: firstName
                    message: FirstName is required.
                  - field: firstName
                    message: FirstName must not exceed 40 characters.
                  - field: middleName
                    message: MiddleName must not exceed 40 characters.
                  - field: middleName
                    message: MiddleName is not required for Business customer.
                  - field: lastName
                    message: LastName must not exceed 40 characters.
                  - field: lastName
                    message: LastName is not required for Business customer.
                  - field: gender
                    message: Gender is required.
                  - field: gender
                    message: 'Incorrect Gender option. Please choose from the available options (Male, Female, Unspecified, Non-                         Binary).'
                  - field: gender
                    message: Gender is not required for Business customer.
                  - field: dateOfBirth
                    message: DateOfBirth is required.
                  - field: dateOfBirth
                    message: 'Incorrect date format, please ensure date is formatted in ''YYYY-MM-DD'' format.'
                  - field: dateOfBirth
                    message: DateOfBirth must not be a future date.
                  - field: dateOfBirth
                    message: DateOfBirth is out of range.
                  - field: dateOfBirth
                    message: DateOfBirth is not required for Business customer.
                  - field: address.addressLine1
                    message: AddressLine1 is required.
                  - field: address.addressLine1
                    message: AddressLine1 must not exceed 60 characters.
                  - field: address.addressLine2
                    message: AddressLine2 must not exceed 60 characters.
                  - field: address.suburb
                    message: Suburb must not exceed 50 characters.
                  - field: address.state
                    message: State is required.
                  - field: address.state
                    message: State must not exceed 3 characters.
                  - field: address.state
                    message: State is invalid.
                  - field: address.city
                    message: City must not exceed 50 characters.
                  - field: address.postcode
                    message: Postcode is required.
                  - field: address.postcode
                    message: Postcode must not exceed 10 characters.
                  - field: address.countryISOCode
                    message: CountryISOCode is required.
                  - field: address.countryISOCode
                    message: CountryISOCode is invalid.
                  - field: address.addressType
                    message: AddressType is required.
                  - field: address.addressType
                    message: AddressType is invalid.
                  - field: emailAddress.emailName
                    message: EmailName must not exceed 50 characters.
                  - field: emailAddress.emailAddress
                    message: EmailAddress is required.
                  - field: emailAddress.emailAddress
                    message: EmailAddress format is invalid.
                  - field: emailAddress.emailAddress
                    message: EmailAddress must not exceed 75 characters.
                  - field: phoneNumber.phoneName
                    message: PhoneName is required.
                  - field: phoneNumber.phoneName
                    message: PhoneName must not exceed 50 characters.
                  - field: phoneNumber.countryCode
                    message: CountryCode is required.
                  - field: phoneNumber.countryCode
                    message: CountryCode must not exceed 4 characters.
                  - field: phoneNumber.areaCode
                    message: AreaCode must not exceed 4 characters.
                  - field: phoneNumber.phoneNumber
                    message: PhoneNumber is required.
                  - field: phoneNumber.phoneNumber
                    message: PhoneNumber provided is invalid.
                  - field: phoneNumber.phoneNumber
                    message: PhoneNumber must not exceed 75 characters.
                  - field: phoneNumber.phoneType
                    message: PhoneType is required.
                  - field: phoneNumber.phoneType
                    message: PhoneType is invalid.
                  - field: externalReference
                    message: '{nameof(contract.ExternalReference)} exists for the provided BusinessId.'
                  - field: externalReference
                    message: '{nameof(contract.ExternalReference)} must not exceed 40 characters.'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Customers
      summary: Get Customers
      description: |-
        Retrieves a list of all customers based on the following criteria.
        - When query parameter business ID is provided, the customers of this business will be returned.
        - When NO query parameter is provided, all customers that the client has access (i.e. based on the authorization token) will be returned.
      operationId: 5dad2ca828887c378a3a820f
      parameters:
        - name: businessId
          in: query
          description: 'Unique identifier associated to the business. If provided, all customers (Individual) belong to this Business will be extracted'
          schema:
            enum:
              - '3333333'
            type: string
        - name: nextCursor
          in: query
          description: |-
            Indicate the position of the next record to be fetched into the list. 
            Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: externalReference
          in: query
          description: External reference associated to the customer
          schema:
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: |-
            Successful response with all customers assigned to the the business ID provided, or if no business ID provided, all customers assigned to the client derived from the authorization token will be returned.
            NOTE: Only Customer Individual will be returned.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetCustomers'
              example:
                customers:
                  - customerId: '1234567'
                    business:
                      businessId: '3333333'
                      name: Debitsuccess 24/7 Fitness
                    customerType: Individual
                    title: Mr
                    firstName: John
                    middleName: smith
                    lastName: doe
                    gender: Male
                    dateOfBirth: '2019-01-01T00:00:00.0000000+00:00'
                    externalReference: lmn12541
                  - customerId: '2345678'
                    business:
                      businessId: '3333333'
                      name: Debitsuccess 24/7 Fitness
                    customerType: Individual
                    title: Miss
                    firstName: Jean
                    middleName: smith
                    lastName: doe
                    gender: Female
                    dateOfBirth: '2010-01-01T00:00:00.0000000+00:00'
                    externalReference: xyz12545
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDox
                  hasNext: 'true'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          headers:
            "X-Notification\t":
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businesses/{businessId}':
    get:
      tags:
        - Businesses
      summary: Get Business
      description: Retrieves  a specific business(Facility) details based on the business ID provided.
      operationId: organisation
      parameters:
        - name: businessId
          in: path
          description: 'Unique identifier associated to the business to be extracted. '
          required: true
          schema:
            enum:
              - '3333333'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: 'Successful response with the business associated to the business ID provided. '
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetBusiness'
              example:
                businessId: '3333333'
                name: Debitsuccess 24/7 Fitness
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-0'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businessAccounts/{businessAccountId}':
    get:
      tags:
        - BusinessAccounts
      summary: Get Business Account
      description: Retrieves a specific business account(FacilityAccount) based on the businessAccount ID provided.
      operationId: 5d9fd01f7ae4e8d58728be50
      parameters:
        - name: businessAccountId
          in: path
          description: Contract Prefix associated to the business account to be extracted
          required: true
          schema:
            enum:
              - DSFit1
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: |
            Successful response with the business account (Facility Account) based on the businessAccount ID provided. 
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetBusinessAccount'
              example:
                businessAccountId: DSFit1
                name: Northshore - Debitsuccess 24/7 Fitness
                active: true
                penaltyFee:
                  amount: 10
                  payer: Facility Pays
                establishmentFee:
                  amount: 10
                  percent: 50
                  payer: Customer pays Pays
                supportedPaymentMethods:
                  - paymentMethodType: MasterCard
                  - paymentMethodType: Visa
                  - paymentMethodType: BankAccount
                business:
                  businessId: '3333333'
                  name: 24/7 fitness
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business account associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  /businessAccounts:
    get:
      tags:
        - BusinessAccounts
      summary: Get Business Accounts
      description: |-
        Retrieves a list of Business Accounts (FacilityAccounts DS domain) based on business ID provided.
        If none provided, all Business Accounts assigned to the client derived from the authentication token will be returned,
      operationId: 5da67acb981fb494d4d20b42
      parameters:
        - name: businessId
          in: query
          description: 'Unique identifier associated to the business. If provided, all business accounts belong to this business will be extracted.'
          schema:
            enum:
              - '3333333'
            type: string
        - name: nextCursor
          in: query
          description: |-
            Indicate the position of the next record to be fetched into the list. 
            Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: active
          in: query
          description: Flag to indicate if the businessAccount is Active.
          schema:
            enum:
              - true
            type: boolean
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with list of Business Accounts based on client ID (i.e derived from the Authorization token) or Business ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetBusinessAccounts'
              example:
                businessAccounts:
                  - businessAccountId: DSFit1
                    name: Northshore - Debitsuccess 24/7 Fitness
                    penaltyFee:
                      amount: 10
                      payer: Facility Pays
                    establishmentFee:
                      amount: 10
                      percent: 50
                      payer: Customer Pays
                    supportedPaymentMethods:
                      - paymentMethodType: MasterCard
                      - paymentMethodType: Visa
                      - paymentMethodType: BankAccount
                    business:
                      businessId: '3333333'
                      name: 24/7 fitness
                  - businessAccountId: DSFit2
                    name: Waiheke - Debitsuccess 24/7 Fitness
                    penaltyFee:
                      amount: 10
                      payer: Facility Pays
                    establishmentFee:
                      amount: 10
                      percent: 50
                      payer: Customer Pays
                    supportedPaymentMethods:
                      - paymentMethodType: MasterCard
                      - paymentMethodType: Visa
                      - paymentMethodType: BankAccount
                    business:
                      businessId: '2222222'
                      name: 24/7 fitness
                  - businessAccountId: DSFit3
                    name: City - Debitsuccess 24/7 Fitness
                    penaltyFee:
                      amount: 10
                      payer: Facility Pays
                    establishmentFee:
                      amount: 10
                      percent: 50
                      payer: Customer Pays
                    supportedPaymentMethods:
                      - paymentMethodType: MasterCard
                      - paymentMethodType: Visa
                      - paymentMethodType: BankAccount
                    business:
                      businessId: 44685F75-FB25-4945-A2DF-E8E4F1A34838
                      name: 24/7 fitness
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDox
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  /businesses:
    get:
      tags:
        - Businesses
      summary: Get Businesses
      description: 'Retrieves a list of businesses (Facility DS domain) assigned to the client ID that is used for authenticating with the Debitsuccess authentication server. Multiple businesses can be assigned to a single client ID. '
      operationId: 5da682dce57a263a6195db1a
      parameters:
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
            default: TmV4dEl0ZW1JZDox
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
            default: 10
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with all businesses assigned to the client ID derived from the Authorization token provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetBusinesses'
              example:
                businesses:
                  - businessId: '2222222'
                    name: Debitsuccess 24/7 Fitness
                  - businessId: '3333333'
                    name: Clubware 24/7 Fitness
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: 'true'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}':
    get:
      tags:
        - Customers
      summary: Get Customer
      description: 'Retrieves a customer details based on customer ID provided in the query path. '
      operationId: 5da9210128c311713fccbb5a
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer to be extracted.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer details based on customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetCustomer'
              example:
                customerId: '1234567'
                business:
                  businessId: '3333333'
                  name: Debitsuccess 24/7 Fitness
                customerType: Individual
                title: Mr
                firstName: John
                middleName: smith
                lastName: doe
                gender: Male
                dateOfBirth: '2019-01-01T00:00:00.0000000+00:00'
                externalReference: ghi12545
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_customer\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          headers:
            "X-Notification\t":
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    put:
      tags:
        - Customers
      summary: 'Update Customer '
      description: Updates existing customer details.
      operationId: 5dafbf241468b9432e315b6f
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer to be updated.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Allows to update an existing customer. based on customer ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCustomerRequest'
            example:
              title: Mr
              firstName: John
              middleName: smith
              lastName: doe
              gender: male
              dateOfBirth: '2019-01-01T00:00:00.0000000+00:00'
      responses:
        '200':
          description: Customer resource is successfully updated.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200UpdateCustomer'
              examples:
                example-1:
                  value:
                    customerId: '1234567'
                    businessId: '3333333'
                    customerType: Individual
                    title: Mr
                    firstName: John
                    middleName: smith
                    lastName: doe
                    gender: Male
                    dateOfBirth: '2019-01-01'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdateCustomer'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: title
                    message: Title must not exceed 10 characters.
                  - field: title
                    message: Title is not required for Business customer.
                  - field: firstName
                    message: FirstName is required.
                  - field: firstName
                    message: FirstName must not exceed 40 characters.
                  - field: middleName
                    message: MiddleName must not exceed 40 characters.
                  - field: middleName
                    message: MiddleName is not required for Business customer.
                  - field: lastName
                    message: LastName must not exceed 40 characters.
                  - field: lastName
                    message: LastName is not required for Business customer.
                  - field: gender
                    message: Gender is required.
                  - field: gender
                    message: 'Incorrect gender option. Please choose from the available options (Male,Female,Unspecified,Non-Binary).'
                  - field: gender
                    message: Gender is not required for Business customer.
                  - field: dateOfBirth
                    message: DateOfBirth is required.
                  - field: dateOfBirth
                    message: 'Incorrect dateOfBirth format, please ensure date is formatted in ''YYYY-MM-DD'' format.'
                  - field: dateOfBirth
                    message: DateOfBirth must not be a future date.
                  - field: dateOfBirth
                    message: DateOfBirth is out of range.
                  - field: dateOfBirth
                    message: DateOfBirth is not required for Business customer.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  /accounts:
    post:
      tags:
        - Accounts
      summary: 'Create Account '
      description: 'Create an account for existing customer '
      operationId: 5dc0a46f2f4e8967ea68c2ae
      parameters:
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |
          Request to create account to existing customer based on CustomerID and BusinessAccountID provided.

          >
          Notes: Maximum 3 recurring schedules are allowed to be assigned to an account. Recurring schedules are not applicable for Gateway Billing accounts.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateAccountRequest'
            example:
              customerId: '1234567'
              businessAccountId: DSFIT1
              accountExternalId: 100200300ABCD
              accountCode: AC1234567890
              termType: months
              term: 12
              accountNotes: New fixed term account.
              fixedTerm: true
              waiveEstFee: true
              alignEstFeeWithSchedule: false
              accountStartDate: '2019-12-31T00:00:00.0000000+00:00'
              contractAmount: 900
              paymentMethodToken: frtg67yu-yht5-6756-234r-tghy6u7ytrre
              recurringSchedules:
                - recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
                  installment: 50
                  frequency: monthly
                  numberOfPayments: 6
                  externalScheduleId: R125810
                  scheduleDescription: Recurring schedule Jan-Jun
                - recurringScheduleStartDate: '2020-07-31T00:00:00.0000000+00:00'
                  installment: 100
                  frequency: monthly
                  numberOfPayments: 0
                  externalScheduleId: R125811
                  scheduleDescription: Recurring schedule Jul-Dec
      responses:
        '201':
          description: Account is successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreateAccount'
              example:
                accountId: CWAUS999999
                businessAccountId: DSFIT1
                customerId: '1234567'
                accountExternalId: 100200300ABCD
                accountCode: AC1234567890
                termType: months
                term: 12
                accountNotes: New fixed term account.
                fixedTerm: true
                nextBillingDate: '2020-12-31'
                lastBillingDateTime: ''
                overdueStatus: 0
                overdueAmountPayment: 0
                overdueAmountFee: 0
                lastReversalReason: ''
                closeReason: ''
                suspended: false
                paymentStopped: false
                paymentStopEndDate: ''
                catchUpAmount: 0
                catchUpEndDate: ''
                paymentInAdvanceAmount: 0
                paymentInAdvanceEnddate: ''
                waiveEstFee: true
                accountStartDate: '2019-12-31'
                accountLoadedDateTime: '2020-12-31T01:59:59.000Z'
                AccountCloseDateTime: ''
                lastUpdatedDateTime: '2020-12-31T12:59:59.000Z'
                accruedContractAmount: 999.9
                originalContractAmount: 999.9
                outstandingRecurringAmount: 50
                outandingOneOffAmount: 0
                outstandingFeeAmount: 9.9
                projectedFinishDate: '2021-12-31'
                paymentMethodToken: frtg67yu-yht5-6756-234r-tghy6u7ytrre
                recurringSchedules:
                  - recurringScheduleStartDate: '2020-01-31'
                    installment: 50
                    frequency: monthly
                    numberOfPayments: 6
                    externalScheduleId: R125810
                    scheduleDescription: Recurring schedule Jan-Jun
                  - recurringScheduleStartDate: '2020-07-31'
                    installment: 100
                    frequency: monthly
                    numberOfPayments: null
                    externalScheduleId: R125811
                    scheduleDescription: Recurring schedule Jul-Dec
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreateAccount'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: accountExternalId
                    message: AccountExternalId is required.
                  - field: accountExternalId
                    message: AccountExternalId must not exceed 50 characters.
                  - field: accountExternalId
                    message: The accountExternalId is not unique and has been used for an account previously. Please retry with a different accountExternalId.
                  - field: accountCode
                    message: AccountCode is invalid.
                  - field: accountCode
                    message: AccountCode must not exceed 100 characters.
                  - field: businessAccountId
                    message: BusinessAccountId is required.
                  - field: businessAccountId
                    message: BusinessAccountId is invalid.
                  - field: businessAccountId
                    message: BusinessAccountId must not exceed 6 characters.
                  - field: customerId
                    message: CustomerId is required.
                  - field: customerId
                    message: CustomerId is invalid.
                  - field: termType
                    message: TermType is required.
                  - field: termType
                    message: TermType is invalid.
                  - field: term
                    message: Term is required.
                  - field: term
                    message: Term must be greater than zero for fixed term accounts.
                  - field: term
                    message: Term must be greater than or equal to zero for ongoing accounts.
                  - field: accountNotes
                    message: AccountNotes must not exceed 1000 characters.
                  - field: fixedTerm
                    message: FixedTerm is required.
                  - field: accountStartDate
                    message: AccountStartDate is required.
                  - field: accountStartDate
                    message: AccountStartDate is invalid. Expected format is YYYY-MM-DD.
                  - field: accountStartDate
                    message: AccountStartDate must not be in the past.
                  - field: contractAmount
                    message: ContractAmount is invalid.
                  - field: contractAmount
                    message: ContractAmount must be null for ongoing accounts.
                  - field: contractAmount
                    message: Total installment(s) do not cover the contract amount of the account.
                  - field: paymentMethodToken
                    message: PaymentMethodToken not found.
                  - field: recurringSchedules
                    message: 'Maximum number of RecurringSchedules allowed is <configured max. limit - currently, 3>.'
                  - field: recurringSchedules
                    message: At least one recurring schedule is required.
                  - field: recurringSchedules
                    message: At least one recurring schedule is required if AlignEstFeeWithSchedule is true.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringScheduleStartDate is required.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringScheduleStartDate is required if EstFeeStartOnAccountStartDate is false.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringSchedulesStartDate is invalid.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringScheduleStartDate must not be before accountStartdate.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringScheduleStartDate must not overlap into previous recurring schedule period.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: This schedule is outside of the term of the account.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: RecurringSchedulesStartDate must not more than 10 years from now for an on-going account.
                  - field: 'recurringSchedules[i].recurringSchedulesStartDate'
                    message: Additional schedule is not required.
                  - field: 'recurringSchedules[i].installment'
                    message: Installment is required.
                  - field: 'recurringSchedules[i].installment'
                    message: Installment is invalid.
                  - field: 'recurringSchedules[i].installment'
                    message: Installment must be greater than or equal to $1.
                  - field: 'recurringSchedules[i].installment'
                    message: Total value of schedules exceeds the contract amount of the account.
                  - field: 'recurringSchedules[i].installment'
                    message: Installment exceeds the contract amount.
                  - field: 'recurringSchedules[i].frequency'
                    message: Frequency is required.
                  - field: 'recurringSchedules[i].frequency'
                    message: Frequency is invalid.
                  - field: 'recurringSchedules[i].numberOfPayments'
                    message: NumberOfPayments must be greater than zero.
                  - field: 'recurringSchedules[i].numberOfPayments'
                    message: NumberOfPayments is required.
                  - field: 'recurringSchedules[i].numberOfPayments'
                    message: NumberOfPayments is not required for the last recurring schedule.
                  - field: 'recurringSchedules[i].externalScheduleId'
                    message: ExternalScheduleId must not exceed 50 characters.
                  - field: 'recurringSchedules[i].externalScheduleId'
                    message: The externalScheduleId is not unique and has been used by another schedule. Please retry with a different externalScheduleId.
                  - field: 'recurringSchedules[i].scheduleDescription'
                    message: ScheduleDescription must not exceed 50 characters.
                  - field: recurringSchedules
                    message: At least one recurring schedule is required if AlignEstFeeWithSchedule is true.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_customer\_associated\_to\_this\_request."
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Accounts
      summary: Get Accounts
      description: |
        Retrieves list of accounts based on queries parameters provided. This API is used to retrieve:

        • one Account if AccountID is provided or 

        • a list of Accounts associated to the Customer as provided via CustomerID or

        • a list of Accounts associated to the Business Account as provided via BusinessAccountID
      operationId: 5dc1d4af15ad1d4dea48b781
      parameters:
        - name: customerId
          in: query
          description: Unique identifier associated to the customer owning the accounts to be extracted
          schema:
            enum:
              - 4R4R5T6Y-6Y7U-8765-2345-TYHGB56789IU
            type: string
        - name: accountStatus
          in: query
          description: |-
            Account status. Can be used to filter retrieved account based on their current status. Possible values are: Active, Suspended, PaymentStopped, Closed, Overdue. Default value is Active if not provided.
            Notes:
            1) 'Active' accounts can also be 'Suspended' or 'PaymentStopped' at the same time.
            2) 'Suspended' accounts can also be 'PaymentStopped' at the same time.
          schema:
            enum:
              - Active
              - Closed
              - Suspended
              - PaymentStopped
              - Overdue
            type: string
            default: Active
        - name: closeReason
          in: query
          description: 'Reason for the account to be closed. Possible values are: WriteOff, PendingWriteOff, DebtCollection, PrepForDebtCol'
          schema:
            enum:
              - PendingWriteOff
              - WriteOff
              - DebtCollection
              - PrepForDebtCol
            type: string
        - name: from
          in: query
          description: 'From datetime or date - range used to filter account records to be extracted. For example, 2020-06-23T00:00:00.000Z.'
          schema:
            enum:
              - '2020-06-23T00:00:00.000Z'
            type: string
        - name: to
          in: query
          description: 'To datetime or date - range used to filter account records to be extracted. For example, 2020-07-03T00:00:00.000Z.'
          schema:
            enum:
              - '2020-07-03T00:00:00.000Z'
            type: string
        - name: dateType
          in: query
          description: |-
            Type of date referred by 'from' and 'to' fields to be used for filtering.
            * dateType will be defaulted to StartDate if not provided but from/to are provided. 
            * If dateType is provided but from/to are not provided then all records will be extracted (i.e., records that fulfilled other parameter filters) 
            * If an invalid format of dateType is provided, API will return an empty list. 
            * If datetype is StartDate - Only date format for "From" and "To" fields will be accepted in format YYYY-MM-DD and will be treated as local time. Timestamp will be disregarded.
            * If datetype is CloseDateTime / LastUpdateDateTime / LoadDatetime - "From" and "To" fields must be in UTC format i.e. YYYY-MM-DDTHH:MM:SS.SSST. If timestamp not provided, time will be defaulted to 00:00:000.00 for ‘from’ and 23:59.59.999 for ‘to’.
          schema:
            enum:
              - StartDate
              - LoadDateTime
              - LastUpdatedDateTime
              - CloseDateTime
            type: string
        - name: businessAccountId
          in: query
          description: 'Contract Prefix of Business Account associated to the accounts to be extracted '
          schema:
            enum:
              - DSFit1
            type: string
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 50
            type: integer
            default: 50
        - name: accountExternalId
          in: query
          description: External identifier associated to the account to be extracted.
          schema:
            enum:
              - '123456'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with account details based on query list provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetAccounts'
              example:
                accounts:
                  - accountId: A921888898193
                    accountExternalId: MOS17267
                    customerId: '1259490'
                    businessAccountId: A9218
                    termType: Months
                    term: 6
                    accountCode: ''
                    accountNotes: ''
                    fixedTerm: false
                    nextBillingDate: '2020-11-01'
                    lastBillingDateTime: '2020-03-02T00:13:48.940Z'
                    overdueStatus: 2
                    overdueAmountPayment: 146.9
                    overdueAmountFee: 7.5
                    lastReversalReason: Lost / Stolen Card
                    closeReason: ''
                    suspended: false
                    paymentStopped: true
                    paymentStopEndDate: ''
                    catchUpAmount: 0
                    catchUpEndDate: ''
                    paymentInAdvanceAmount: 0
                    paymentInAdvanceEndDate: ''
                    accountStartDate: '2019-05-31'
                    accountCloseDateTime: ''
                    accountLoadedDateTime: '2019-05-29T12:00:00.000Z'
                    lastUpdatedDateTime: '2020-10-26T19:21:22.643Z'
                    accruedContractAmount: 881.4
                    originalContractAmount: 440.7
                    outstandingRecurringAmount: 220.35
                    outstandingOneOffAmount: 0
                    outstandingFeeAmount: 7
                    projectedFinishDate: ''
                    paymentMethodToken: 6BC50933-E43F-425E-AAB4-0B41A2627242
                    collectionStopReason: Invalid Account
                  - accountId: A921888897986
                    accountExternalId: MOS17656
                    customerId: '1704286'
                    businessAccountId: A9218
                    termType: Months
                    term: 0
                    accountCode: ''
                    accountNotes: ''
                    fixedTerm: false
                    nextBillingDate: '2020-11-01'
                    lastBillingDateTime: '2020-03-02T00:13:48.940Z'
                    overdueStatus: 0
                    overdueAmountPayment: 69.95
                    overdueAmountFee: 0
                    lastReversalReason: ''
                    closeReason: ''
                    suspended: false
                    paymentStopped: true
                    paymentStopEndDate: ''
                    catchUpAmount: 0
                    catchUpEndDate: ''
                    paymentInAdvanceAmount: 0
                    paymentInAdvanceEndDate: ''
                    accountStartDate: '2019-11-13'
                    accountCloseDateTime: ''
                    accountLoadedDateTime: '2019-11-11T11:00:00.000Z'
                    lastUpdatedDateTime: '2020-10-26T19:21:22.643Z'
                    accruedContractAmount: 419.7
                    originalContractAmount: 0
                    outstandingRecurringAmount: 139.9
                    outstandingOneOffAmount: 0
                    outstandingFeeAmount: 0
                    projectedFinishDate: ''
                    paymentMethodToken: 9457A037-F055-4071-B46F-D8F1E1331933
                    collectionStopReason: ''
                responseMetadata:
                  nextCursor: NjM1MDkz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '429':
          description: Too Many Requests - The user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}':
    get:
      tags:
        - Accounts
      summary: Get Account
      description: 'Retrieves account details based on account ID provided in the query path. '
      operationId: 5dc0a652378345dbd9d10aa6
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with account details based on account ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetAccount'
              example:
                accountId: A921888898193
                accountExternalId: MOS17267
                customerId: '1259490'
                businessAccountId: A9218
                termType: Months
                term: 6
                accountCode: ''
                accountNotes: ''
                fixedTerm: false
                nextBillingDate: '2020-11-01'
                lastBillingDateTime: '2020-03-02T00:13:48.940Z'
                overdueStatus: 2
                overdueAmountPayment: 146.9
                overdueAmountFee: 7.5
                lastReversalReason: Lost / Stolen Card
                closeReason: ''
                suspended: false
                paymentStopped: true
                paymentStopEndDate: ''
                catchUpAmount: 0
                catchUpEndDate: ''
                paymentInAdvanceAmount: 0
                paymentInAdvanceEndDate: ''
                accountStartDate: '2019-05-31'
                accountCloseDateTime: ''
                accountLoadedDateTime: '2019-05-29T12:00:00.000Z'
                lastUpdatedDateTime: '2020-10-26T19:21:22.643Z'
                accruedContractAmount: 881.4
                originalContractAmount: 440.7
                outstandingRecurringAmount: 220.35
                outstandingOneOffAmount: 0
                outstandingFeeAmount: 7.5
                projectedFinishDate: ''
                paymentMethodToken: 6BC50933-E43F-425E-AAB4-0B41A2627242
                collectionStopReason: Invalid Account
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - The user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    put:
      tags:
        - Accounts
      summary: 'Update Account '
      description: |-
        Updates existing account details based on the query parameters provided.

        Notes: 
        1) Updating Term and TermType are applicable for on-going Accounts only i.e. fixedTerm=false

        2) Adjusting ContractAmount will set the Account to fixed term

        3) Updating Accounts from fixed term to on-going is NOT allowed

        4) Updating Account Term or Contract Amount is NOT allowed after the minimum term has past.
      operationId: 5dc0a8788afb2359af79d530
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account to be updated.
          required: true
          schema:
            enum:
              - AILL056H7
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Allows to update an existing account based on account ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAccountRequest'
            example:
              accountExternalId: ABC12346
              termType: months
              term: 12
              accountCode: DSFit Account Code 1
              fixedTerm: true
              accountStartDate: '2019-01-31T00:00:00.0000000+00:00'
              paymentStopped: false
              paymentStoppedEndDate: ''
              contractAmount: 999.9
      responses:
        '200':
          description: Account resource successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200UpdateAccount'
              example:
                accountId: AILL056H7
                accountExternalId: ABC12346
                termType: months
                term: 12
                accountCode: DSFit Account Code 1
                fixedTerm: true
                accountStartDate: '2019-01-31T00:00:00.0000000+00:00'
                paymentStopped: false
                paymentStoppedEndDate: ''
                contractAmount: 999.9
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdateAccount'
              examples:
                example:
                  value:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: accountExternalId
                        message: AccountExternalId is required.
                      - field: accountExternalId
                        message: AccountExternalId must not exceed 50 characters.
                      - field: accountExternalId
                        message: The accountExternalId is not unique and has been used for an account previously. Please retry with a different accountExternalId.
                      - field: termType
                        message: TermType is required.
                      - field: termType
                        message: TermType is invalid.
                      - field: termType
                        message: TermType is not allowed to be updated for a fixed term account.
                      - field: termType
                        message: TermType is not allowed to be updated after the minimum term has passed.
                      - field: termType
                        message: TermType is invalid as the calculated ContractAmount must not be less than the amount should have paid.
                      - field: term
                        message: Term is not allowed to be updated for a fixed term account.
                      - field: term
                        message: Term is not allowed to be updated after the minimum term has passed.
                      - field: term
                        message: Term is required.
                      - field: term
                        message: Term must be greater than or equal to zero.
                      - field: term
                        message: Term is invalid as the calculated ContractAmount must not be less than the amount should have paid.
                      - field: accountCode
                        message: AccountCode is invalid.
                      - field: accountCode
                        message: AccountCode must not exceed 100 characters.
                      - field: fixedTerm
                        message: FixedTerm is required.
                      - field: fixedTerm
                        message: Updating fixed term account to ongoing is not allowed.
                      - field: fixedTerm
                        message: FixedTerm is not allowed to be updated after the minimum term has passed.
                      - field: accountStartDate
                        message: AccountStartDate is required.
                      - field: accountStartDate
                        message: AccountStartDate is invalid. Expected format is YYYY-MM-DD.
                      - field: accountStartDate
                        message: AccountStartDate must not be a date in the past.
                      - field: accountStartDate
                        message: AccountStartDate is not allowed to be updated once it passed the current date.
                      - field: paymentStopped
                        message: PaymentStopped is required.
                      - field: paymentStoppedEndDate
                        message: PaymentStoppedEndDate is not required if paymentStopped is false.
                      - field: paymentStoppedEndDate
                        message: PaymentStoppedEndDate is invalid. Expected format is YYYY-MM-DD.
                      - field: paymentStoppedEndDate
                        message: PaymentStoppedEndDate must not be a date in the past.
                      - field: paymentStoppedEndDate
                        message: PaymentStoppedEndDate is not allowed to be updated together with accountStartDate.
                      - field: contractAmount
                        message: ContractAmount is not allowed to be updated after the minimum term has passed.
                      - field: contractAmount
                        message: ContractAmount provided is greater than the total value of the account schedules.
                      - field: contractAmount
                        message: ContractAmount is invalid.
                      - field: contractAmount
                        message: ContractAmount must not less than the amount should have paid.
                      - field: contractAmount
                        message: ContractAmount must be greater than or equal to $1.
                      - field: paymentStopped
                        message: PaymentStopped is only allowed to be updated to false for Account with Manual Payment Stop as CollectionStopReason.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 137703266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    patch:
      tags:
        - Accounts
      summary: Patch Account
      description: |-
        Updates default payment method for existing account.
        Notes: All current and future schedules associated to the patched account will have their payment method updated. Schedules that due on the same day as this request will likely to have the update effective on next due date.
      operationId: 5e5f19f105601390410c60e5
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account to be patched.
          required: true
          schema:
            enum:
              - AILL056H7
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Allows to update default payment method for an existing account based on account ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchAccountRequest'
            example:
              paymentMethodToken: edgr3845-r45t-332r-2345-eert45trrtyy
      responses:
        '200':
          description: Account default payment method successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200PatchAccount'
              example:
                accountId: AILL056H7
                paymentMethodToken: edgr3845-r45t-332r-2345-eert45trrtyy
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdateAccount'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: paymentMethodToken
                    message: PaymentMethodToken is required.
                  - field: paymentMethodToken
                    message: PaymentMethodToken not found.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 137703266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/close':
    post:
      tags:
        - Accounts
      summary: Close Account
      description: |
        Closes existing account based on account ID provided.

        Notes: All successfully closed accounts via this API will have Close reason = 'Facility Request'
      operationId: 5dcb76ebf8bc645f734a319a
      parameters:
        - name: accountId
          in: path
          description: 'Unique identifier associated to the account to be closed. '
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      requestBody:
        description: Request to close an existing account based on the account ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/closeAccountRequest'
            example:
              closureNotes: Immediately close account
      responses:
        '200':
          description: Successful close account based on query parameters provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Account successfully closed
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400closeAccount'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: closureNotes
                    message: closureNotes is required.
                  - field: closureNotes
                    message: closureNotes must not exceed 10000 characters.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403ForbiddenClaims'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - The user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/suspensionSchedules/{scheduleId}':
    delete:
      tags:
        - Schedules-Suspension
      summary: Delete Schedule (Suspension)
      description: |
        Delete an existing future suspension schedule based on query parameters provided.
      operationId: 5dd5a10b20dced3fa846931c
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the suspension schedule to be deleted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the suspension schedule to be extracted.
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete suspension schedule based on query parameters provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Suspension schedule successfully deleted
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: customer_access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as scheduleId must be a future schedule.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    patch:
      tags:
        - Schedules-Suspension
      summary: Update Schedule (Suspension)
      description: Updates existing suspension schedule based on the query parameters provided.
      operationId: 5de95a4b97d84eae7125ea9f
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the suspension schedule to be updated.
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
            default: CWAUS999999
        - name: scheduleId
          in: path
          description: Unique identifier associated to the suspension schedule to be updated
          required: true
          schema:
            enum:
              - '12345678'
            type: string
            default: '12345678'
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Allows to update an existing suspensions schedule based on the schedule ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateSuspenseScheduleRequest'
            example:
              suspensionScheduleEndDate: '2020-12-31'
      responses:
        '201':
          description: Suspension schedule successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201UpdateSuspensionSchedule'
              example:
                scheduleId: '12345678'
                accountId: CWAUS999999
                suspensionScheduleEndDate: '2020-12-31'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400PutSuspensionRequest'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: suspensionScheduleEndDate
                    message: SuspensionScheduleEndDate is invalid.
                  - field: suspensionScheduleEndDate
                    message: SuspensionScheduleEndDate must not be prior to suspensionScheduleStartDate.
                  - field: suspensionScheduleEndDate
                    message: SuspensionScheduleEndDate must not overlap with another existing suspension schedule.
                  - field: suspensionScheduleEndDate
                    message: SuspensionScheduleEndDate must not be in the past.
                  - field: ''
                    message: Only one property can be updated at a time.
                  - field: ''
                    message: Unsupported property.
                  - field: (propertyName)
                    message: Unsupported property.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 137703266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Schedules-Suspension
      summary: Get Schedule (Suspension)
      description: 'Retrieves suspension schedule based on account ID and schedule ID provided in the query path. '
      operationId: 5de960242fcc327cc3a3eb10
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the suspension schedule to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the suspension schedule to be extracted
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with suspension schedule details based on  account ID and schedule ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetSuspensionSchedule'
              example:
                scheduleId: '12345678'
                accountId: AILL056H6
                accountExternalId: ABC12345
                suspensionScheduleStartDate: '2020-01-31'
                suspensionScheduleEndDate: '2020-12-31'
                suspensionFee: 50
                frequency: monthly
                scheduleDescription: Suspension schedule Jan-Dec
                externalScheduleId: S125810
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: Unable to process this request as you do not have access to the account associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/recurringSchedules':
    post:
      tags:
        - Schedules-Recurring
      summary: Create Schedule (Recurring)
      description: |-
        Create a recurring schedule for an existing account for the Account ID provided.

        This endpoint creates an indefinite recurring schedule for the account whereas the recurring schedule created using [POST /accounts](https://debitsuccess.stoplight.io/docs/debitsuccess-api/CustomerServicesApi.yaml/paths/~1accounts/post) can be configured as a [tried schedule](https://debitsuccess.atlassian.net/wiki/spaces/DDE/pages/1314914915/Create+a+recurring+schedule). 

        >
        Note: This endpoint is not applicable for Gateway Billing accounts.
      operationId: 5ddaf6e8c341d15d73945994
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account whom the newly created  recurring schedule belongs to.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Request to create recurring schedule for existing account based on Account ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRecurringScheduleRequest'
            example:
              minimumEffectiveDate: '2020-01-31T00:00:00.0000000+00:00'
              installment: 50
              frequency: monthly
              scheduleDescription: Recurring schedule Jan-Dec
              externalScheduleId: T125810
              deleteFutureSchedules: true
              overrideBillingCycleAlignment: true
              previousScheduleEndDate: '2019-11-30T00:00:00.0000000+00:00'
      responses:
        '201':
          description: Recurring schedule is successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreateRecurringSchedule'
              example:
                scheduleId: '12345678'
                accountId: CWAUS999999
                recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
                installment: 50
                frequency: monthly
                scheduleDescription: Recurring schedule Jan-Dec
                externalScheduleId: T125810
                deleteFutureSchedules: true
                overrideBillingCycleAlignment: true
                previousScheduleEndDate: '2019-11-30T00:00:00.0000000+00:00'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreateRecurringSchedule'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: minimumEffectiveDate
                    message: MinimumEffectiveDate is required.
                  - field: minimumEffectiveDate
                    message: MinimumEffectiveDate must not be in the past.
                  - field: minimumEffectiveDate
                    message: MinimumEffectiveDate must be on or after account start date.
                  - field: minimumEffectiveDate
                    message: MinimumEffectiveDate must not more than 10 years from now for an on-going account.
                  - field: minimumEffectiveDate
                    message: MinimumEffectiveDate must not greater than account endDate for fixed term account.
                  - field: installment
                    message: Installment is required.
                  - field: installment
                    message: Installment is invalid.
                  - field: installment
                    message: Installment must be greater than or equal to $1.
                  - field: frequency
                    message: Frequency is required.
                  - field: frequency
                    message: Frequency is invalid.
                  - field: scheduleDescription
                    message: ScheduleDescription must not exceed 50 characters.
                  - field: externalScheduleId
                    message: ExternalScheduleId must not exceed 50 characters.
                  - field: externalScheduleId
                    message: The externalScheduleId is not unique and has been used for a schedule previously. Please retry with a different externalScheduleId
                  - field: deleteFutureSchedules
                    message: DeleteFutureSchedules is required.
                  - field: deleteFutureSchedules
                    message: 'Future schedules exist and must be either adjusted, deleted or set deleteFutureSchedules = true to avoid overlapping schedules.'
                  - field: previousScheduleEndDate
                    message: PreviousScheduleEndDate is invalid.
                  - field: previousScheduleEndDate
                    message: PreviousScheduleEndDate must be before minimumEffectiveDate.
                  - field: previousScheduleEndDate
                    message: PreviousScheduleEndDate must be equal or later than start date of previous schedule.
                  - field: previousScheduleEndDate
                    message: PreviousScheduleEndDate must be provided when creating a schedule that will not be aligned with the current schedules.
                  - field: previousScheduleEndDate
                    message: PreviousScheduleEndDate must not be in the past.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                type: string
            X-RateLimit-Limit:
              description: 'The maximum number of requests you''re permitted to make per hour. '
              required: true
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                type: integer
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  errorCode:
                    type: string
                    minLength: 1
                  message:
                    type: string
                    minLength: 1
                  errors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - field
                        - message
                      properties:
                        field:
                          type: string
                          minLength: 1
                        message:
                          type: string
                          minLength: 1
                required:
                  - errorCode
                  - message
                  - errors
                x-examples:
                  example-1:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: addressId
                        message: Deletion of Primary address is not allowed.
              examples:
                example-1:
                  value:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: addressId
                        message: Deletion of Primary address is not allowed.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Schedules-Recurring
      summary: Get Schedules (Recurring)
      description: |-
        Retrieves list of recurring schedule based on Account ID provided. 

        >
        Note: This endpoint is not applicable for Gateway Billing accounts.
      operationId: 5ddb407e8406be61a32cacea
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account owning the recurringschedules to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with a list of recurring schedules details based on accountId provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetRecurringSchedules'
              example:
                recurringSchedules:
                  - scheduleId: '12345678'
                    accountId: AILL056H6
                    accountExternalId: ABC12345
                    recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
                    recurringScheduleEndDate: '2020-12-31T00:00:00.0000000+00:00'
                    installment: 50
                    frequency: monthly
                    scheduleDescription: Recurring schedule Jan-Dec
                    externalScheduleId: T125810
                  - scheduleId: '12345688'
                    accountId: AILL056H6
                    accountExternalId: ABC12345
                    recurringScheduleStartDate: '2021-01-31T00:00:00.0000000+00:00'
                    recurringScheduleEndDate: 'null'
                    installment: 30
                    frequency: weekly
                    scheduleDescription: Recurring schedule Jan-Jun
                    externalScheduleId: T125880
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/recurringSchedules/{scheduleId}':
    delete:
      tags:
        - Schedules-Recurring
      summary: Delete Schedule (Recurring)
      description: |
        Delete recurring schedule based on query parameters provided.

        >
        Note: This endpoint is not applicable for Gateway Billing accounts.

        Notes: 
        1) Start date of the recurring schedule that needs to be deleted must be in the future.
        2) Deleting a last recurring schedule will remove the end date and number of payments of its previous schedule.
        3) You will not be able to delete a schedule if it is the only recurring schedule on the account
      operationId: 5ddb2423c39aad7f6c2c5425
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account whom this recurring schedule belongs
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the schedule to be deleted
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete recurring schedule based on query parameters provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Recurring schedule successfully deleted
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400DeleteRecurringSchedule'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: scheduleId
                    message: Schedule has already started.
                  - field: scheduleId
                    message: Account associated to this schedule must have at least 1 schedule.
                  - field: scheduleId
                    message: Only the last schedule is allowed to be deleted.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403AccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as you do not have access to the account associated to this request.
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
                example-2:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as scheduleId must be a future schedule.
                example-3:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account associated to this schedule must have at least 1 active schedule.
                example-4:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as only the last schedule is allowed to be deleted.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Schedules-Recurring
      summary: Get Schedule (Recurring)
      description: |-
        Retrieves recurring schedule based on account ID and schedule ID provided in the query path. 

        >
        Note: This endpoint is not applicable for Gateway Billing accounts.
      operationId: 5ddb4055e367b992b479dc1c
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account owning the recurring schedule to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the schedule to be extracted
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with recurring schedule details based on  account ID and schedule ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetRecurringSchedule'
              example:
                scheduleId: '12345678'
                accountId: AILL056H6
                accountExternalId: ABC12345
                recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
                recurringScheduleEndDate: '2020-12-31T00:00:00.0000000+00:00'
                installment: 50
                frequency: monthly
                scheduleDescription: Recurring schedule Jan-Dec
                externalScheduleId: T125810
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/scheduleRecurrings/{scheduleId}':
    put:
      summary: INTERNAL API - Update Schedule (Recurring)
      description: |-
        Updates existing recurring schedule details of an account based on the query parameters provided.

        >
        Note: This endpoint is not applicable for Gateway Billing accounts.
      operationId: 5ddb3c9f2e24240b5236e6a5
      parameters:
        - name: accountId
          in: path
          description: |-
            Unique identifier associated to the account whom the recurring schedule is to be updated.

            NOTES: Required only when Account External ID is not provided.
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the schedule to be updated
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Allows to update an existing recurring schedule based schedule ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateRecurringScheduleRequest'
            example:
              recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
              recurringScheduleEndDate: '2020-12-31T00:00:00.0000000+00:00'
              installment: 50
              frequency: monthly
              numberOfPayments: 12
              scheduleDescription: Recurring schedule Jan-Dec
              externalScheduleId: T125810
      responses:
        '201':
          description: Recurring schedule successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201UpdateRecurringSchedule'
              example:
                scheduleId: '12345678'
                accountId: CWAUS999999
                recurringScheduleStartDate: '2020-01-31T00:00:00.0000000+00:00'
                recurringScheduleEndDate: '2020-12-31T00:00:00.0000000+00:00'
                installment: 50
                frequency: monthly
                scheduleDescription: Recurring schedule Jan-Dec
                externalScheduleId: T125810
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400PutRecurringRequest'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: recurringScheduleStartDate
                    message: RecurringScheduleStartDate is required.
                  - field: recurringScheduleStartDate
                    message: RecurringScheduleStartDate is invalid.
                  - field: recurringScheduleStartDate
                    message: RecurringScheduleStartDate must not be in the past.
                  - field: recurringScheduleStartDate
                    message: RecurringScheduleStartDate must not overlap with existing schedules.
                  - field: recurringScheduleEndDate
                    message: RecurringScheduleEndDate is required except for the last recurring Schedule.
                  - field: recurringScheduleEndDate
                    message: RecurringScheduleEndDate is not required for the last recurring Schedule.
                  - field: recurringScheduleEndDate
                    message: RecurringScheduleEndDate is invalid.
                  - field: recurringScheduleEndDate
                    message: RecurringScheduleEndDate must be prior to recurringScheduleStartDate.
                  - field: recurringScheduleEndDate
                    message: RecurringScheduleEndDate must not overlap with existing schedules.
                  - field: installment
                    message: Installment is required.
                  - field: installment
                    message: Installment is invalid.
                  - field: installment
                    message: Installment must be greater than $1.
                  - field: frequency
                    message: Frequency is required.
                  - field: frequency
                    message: Frequency is invalid.
                  - field: numberOfPayments
                    message: NumberOfPayments is required except for the last recurring Schedule.
                  - field: numberOfPayments
                    message: NumberOfPayments is not required for the last recurring Schedule.
                  - field: numberOfPayments
                    message: NumberOfPayments is invalid.
                  - field: numberOfPayments
                    message: numberOfPayments must not overlap with existing recurring schedules.
                  - field: scheduleDescription
                    message: scheduleDescription must not exceed 50 characters.
                  - field: externalScheduleId
                    message: ExternalScheduleId must not exceed 50 characters.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 137703266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
      x-internal: true
  '/accounts/{accountId}/oneOffSchedules':
    post:
      tags:
        - Schedules-OneOff
      summary: Create Schedule (One-off )
      description: Create a one off schedule for an existing account based on the Account ID provided.
      operationId: 5ddc35ab4106b64c6a50736d
      parameters:
        - name: accountId
          in: path
          description: |
            Unique identifier associated to the account whom this one-off schedule is to be created for.
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |
          Request to create new one-off schedule for existing accounts. This can be used for full service accounts and payment gateway model accounts.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOneOffScheduleRequest'
            example:
              dueDate: '2020-01-31'
              amount: 50
              scheduleDescription: Maintenance charges FY20
              externalScheduleId: T125810
      responses:
        '201':
          description: One-off schedule has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreateOneOffSchedule'
              example:
                scheduleId: '12345678'
                accountId: CWAUS999999
                dueDate: '2020-01-31'
                amount: 50
                scheduleDescription: Recurring schedule Jan-Dec
                externalScheduleId: T125810
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreateOneOffSchedule'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: dueDate
                    message: DueDate is required.
                  - field: dueDate
                    message: Invalid dueDate format provided. Please use YYYY-MM-DD.
                  - field: dueDate
                    message: DueDate must not be in the past.
                  - field: dueDate
                    message: DueDate must be on or after account start date.
                  - field: dueDate
                    message: DueDate must not more than 10 years from now for an on-going account.
                  - field: dueDate
                    message: This schedule is outside of the term of the account.
                  - field: amount
                    message: Amount is required.
                  - field: amount
                    message: Amount is invalid.
                  - field: amount
                    message: Amount must be greater than or equal to $1.
                  - field: amount
                    message: 'Amount must not be greater than {max amount}.'
                  - field: scheduleDescription
                    message: ScheduleDescription must not exceed 50 characters.
                  - field: externalScheduleId
                    message: ExternalScheduleId must not exceed 50 characters.
                  - field: externalScheduleId
                    message: ExternalScheduleId is not unique and has been used for a schedule previously. Please retry with a different externalScheduleId.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: customer_access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: customer_access_denied
                    message: Unable to process this request as the account is not active.
                example-2:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is currently set to stop on payments.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Schedules-OneOff
      summary: Get Schedules (One-off)
      description: 'Retrieves list of one-off Schedules based on Account ID provided. '
      operationId: 5e4301f7735ed5e900dd61e5
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the One-Off schedules to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with a list of one-off schedules details based on query list provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetOneOffSchedules'
              example:
                oneOffSchedules:
                  - scheduleId: '12345678'
                    accountId: AILL056H6
                    dueDate: '2020-01-31'
                    amount: 50
                    scheduleDescription: One-off schedule Jan-Nov 2019
                    externalScheduleId: S125810
                  - scheduleId: '12345679'
                    accountId: AILL056H6
                    dueDate: '2021-03-31'
                    amount: 5
                    scheduleDescription: One-off schedule Feb 2020
                    externalScheduleId: S125811
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/addresses':
    post:
      tags:
        - Addresses
      summary: Add Address
      description: Adds address to an existing customer based on customer ID provided.
      operationId: 5ddddcd07f477580b89057cd
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the Customer whom the address is created for
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |-
          If "isPrimary" is set to "true", when this address successfully added, all other existing addresses belong to the customer will have their "isPrimary" field set to "false".
          >
          Refer to the [supporting documentation](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md) for the accepted values for countryISOCode.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddAddressRequest'
            example:
              addressLine1: 8 The Milky Way
              addressLine2: Galatica
              suburb: Albany
              state: ''
              city: Auckland
              postcode: '0600'
              countryISOCode: NZL
              addressType: home
              isPrimary: true
      responses:
        '201':
          description: Customer address successfully created for the customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201AddAddress'
              example:
                addressId: '8888888'
                addressLine1: 8 The Milky Way
                addressLine2: Galatica
                suburb: Albany
                state: ''
                city: Auckland
                postcode: '0600'
                countryISOCode: NZL
                addressType: home
                isPrimary: true
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400AddAddress'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: addressLine1
                    message: AddressLine1 is required.
                  - field: addressLine1
                    message: AddressLine1 must not exceed 60 characters.
                  - field: addressLine2
                    message: AddressLine2 must not exceed 60 characters.
                  - field: suburb
                    message: Suburb must not exceed 50 characters.
                  - field: state
                    message: State is required.
                  - field: state
                    message: State must not exceed 3 characters.
                  - field: state
                    message: State is invalid.
                  - field: city
                    message: City must not exceed 50 characters.
                  - field: postcode
                    message: Postcode is required.
                  - field: postcode
                    message: Postcode must not exceed 10 characters.
                  - field: countryISOCode
                    message: CountryISOcode is required.
                  - field: countryISOCode
                    message: CountryISOcode is invalid.
                  - field: addressType
                    message: AddressType is required.
                  - field: addressType
                    message: AddressType is invalid.
                  - field: addressType
                    message: AddressType provided already exists.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403ForbiddenClaims'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Addresses
      summary: Get Addresses
      description: Retrieves a list of addresses assigned to the customer based on the customer ID provided.
      operationId: 5ddddd28e4aa08e1610ab987
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the list of addresses to be extracted
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: nextCursor
          in: query
          description: |-
            Indicate the position of the next record to be fetched into the list. 
            Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer addresses associated to the customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetAddresses'
              example:
                addresses:
                  - addressId: '8888888'
                    addressLine1: 5 The warehouse way
                    addressLine2: Northcote
                    suburb: Northcote
                    state: ''
                    city: Auckland
                    postcode: '1062'
                    countryISOCode: NZL
                    addressType: home
                    isPrimary: false
                  - addressId: '8888887'
                    addressLine1: 8 The Milky way
                    addressLine2: Galatica
                    suburb: Albany
                    state: ''
                    city: Auckland
                    postcode: '0600'
                    countryISOCode: NZL
                    addressType: postal
                    isPrimary: true
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/addresses/{addressId}':
    delete:
      tags:
        - Addresses
      summary: Delete Address
      description: |-
        Deletes non-Primary address based on customer ID and address ID provided in the query path for a customer.
        Deletion of Primary address is not allowed.
      operationId: 5ddddcfb089be59564517abd
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the address to be deleted
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: addressId
          in: path
          description: Unique identifier associated to the address to be deleted
          required: true
          schema:
            enum:
              - '8888888'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete customer address based on customer ID and address ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Address successfully deleted
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: addressId
                    message: Deletion of Primary address is not allowed.
              schema:
                description: ''
                type: object
                properties:
                  errorCode:
                    type: string
                    minLength: 1
                  message:
                    type: string
                    minLength: 1
                  errors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - field
                        - message
                      properties:
                        field:
                          type: string
                          minLength: 1
                        message:
                          type: string
                          minLength: 1
                required:
                  - errorCode
                  - message
                  - errors
                x-examples:
                  example-1:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: addressId
                        message: Deletion of Primary address is not allowed.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Addresses
      summary: Get Address
      description: 'Retrieves customer address details based on customer Id and address ID provided in the query path. '
      operationId: 5ddddd0ec7245c79b1e347b6
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the address to be extracted
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: addressId
          in: path
          description: Unique identifier associated to the address to be extracted
          required: true
          schema:
            enum:
              - '8888888'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer address based on customer ID and address ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetAddress'
              example:
                addressId: '8888888'
                addressLine1: 5 The warehouse way
                addressLine2: Northcote
                suburb: Northcote
                state: ''
                city: Auckland
                postcode: '1062'
                countryISOCode: NZL
                addressType: home
                isPrimary: false
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    put:
      tags:
        - Addresses
      summary: Update Address
      description: Updates existing address of a customer based on customer ID and address ID provided.
      operationId: 5ddddd4dfecb7e3c9d55d9e5
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the address to be updated.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
            default: '1234567'
        - name: addressId
          in: path
          description: Unique identifier associated to the address to be updated.
          required: true
          schema:
            enum:
              - '8888888'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
            type: string
            default: '201'
      requestBody:
        description: |-
          Allows to update an address to an existing customer. 
          If 'isPrimary' field is set to 'true' value, when the address is successfully updated, all other existing addresses belong to the customer will have their 'isPrimary' set to 'false'.
          Primary address is not allowed to be updated to false(i.e. non-Primary).

          >
          Refer to the [supporting documentation](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md) for the accepted values for `countryISOCode` and `state`.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateAddressRequest'
            example:
              addressLine1: 5 The warehouse way
              addressLine2: Northcote
              suburb: Northcote
              state: ''
              city: Auckland
              postcode: '1062'
              countryISOCode: NZL
              addressType: home
              isPrimary: true
      responses:
        '200':
          description: Address successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200UpdateAddress'
              example:
                addressId: '8888888'
                addressLine1: 5 The warehouse way
                addressLine2: Northcote
                suburb: Northcote
                state: ''
                city: Auckland
                postcode: '1062'
                countryISOCode: NZL
                addressType: home
                isPrimary: true
        '400':
          description: 'Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdateAddress'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: addressLine1
                    message: AddressLine1 is required.
                  - field: addressLine1
                    message: AddressLine1 must not exceed 60 characters.
                  - field: addressLine2
                    message: AddressLine2 must not exceed 60 characters.
                  - field: suburb
                    message: Suburb must not exceed 50 characters.
                  - field: state
                    message: State is required.
                  - field: state
                    message: State must not exceed 3 characters.
                  - field: state
                    message: State is invalid.
                  - field: city
                    message: City must not exceed 50 characters.
                  - field: postcode
                    message: Postcode is required.
                  - field: postcode
                    message: Postcode must not exceed 10 characters.
                  - field: countryISOCode
                    message: CountryISOCode is required.
                  - field: countryISOCode
                    message: CountryISOCode is invalid.
                  - field: addressType
                    message: AddressType is required.
                  - field: addressType
                    message: AddressType is invalid.
                  - field: isPrimary
                    message: Each customer must have 1 primary address.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/phoneNumbers/{phoneNumberId}':
    put:
      tags:
        - PhoneNumbers
      summary: Update Phone Number
      description: |-
        Updates existing phone number of a customer based on the customer ID and phoneNumber ID provided.

        >
        Note: If a customer has a Guarantor and the guarantor has a mobile number, then the guarantor’s mobile number will always be the preferred phone number. Any attempt to update other non-guarantor phone numbers to primary number (isPrimary=true) will be ignored.
      operationId: 5ddddd7330e1bcdcaf336cb8
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the phone number to be updated.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: phoneNumberId
          in: path
          description: Unique identifier associated to the phone number to be updated.
          required: true
          schema:
            enum:
              - '9999999'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |-
          If "isPrimary" is set to "true", when this phone number successfully updated, all other existing phone numbers belong to the customer will have their "isPrimary" field set to "false".
          Primary phone number is not allowed to be updated to false(i.e. non-Primary).

          >
          Refer to the [supporting documentation](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md) for the accepted values for `countryCode`.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePhoneNumberRequest'
            example:
              phoneName: john
              countryCode: '+64'
              areaCode: '09'
              phoneNumber: 264 5555
              phoneType: work
              isPrimary: true
      responses:
        '200':
          description: Customer phone number successfully updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200UpdatePhoneNumber'
              example:
                phoneNumberId: '9999999'
                phoneName: john
                countryCode: '+64'
                areaCode: '09'
                phoneNumber: 264 5555
                phoneType: work
                isPrimary: true
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdatePhoneNumber'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: phonenumberId
                    message: PhoneNumberId is invalid.
                  - field: phoneName
                    message: PhoneName is required.
                  - field: phoneName
                    message: PhoneName must not exceed 50 characters.
                  - field: countryCode
                    message: CountryCode is required.
                  - field: countryCode
                    message: CountryCode must not exceed 4 characters.
                  - field: areaCode
                    message: AreaCode must not exceed 4 characters.
                  - field: phoneNumber
                    message: PhoneNumber is required.
                  - field: phoneNumber
                    message: PhoneNumber provided is invalid.
                  - field: phoneNumber
                    message: PhoneNumber must not exceed 75 characters.
                  - field: phoneNumber
                    message: PhoneNumber provided already exists.
                  - field: phoneType
                    message: PhoneType is required.
                  - field: phoneType
                    message: PhoneType is invalid.
                  - field: isPrimary
                    message: Each customer must have 1 primary phone number.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - PhoneNumbers
      summary: Get Phone Number
      description: 'Retrieves the detail of customer phone number based on the customer ID and phoneNumber ID provided in the query path. '
      operationId: 5dddde07cdf3f2ddac60f8f7
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the phone number to be extracted.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: phoneNumberId
          in: path
          description: Unique identifier associated to the phone number to be extracted.
          required: true
          schema:
            enum:
              - '9999999'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer phone number based on phoneNomber ID and customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetPhoneNumber'
              example:
                phoneNumberId: '9999999'
                phoneName: john
                countryCode: '+64'
                areaCode: '09'
                phoneType: mobile
                phoneNumber: 264 5555
                isPrimary: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          headers:
            "X-Notification\t":
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    delete:
      tags:
        - PhoneNumbers
      summary: Delete Phone Number
      description: |-
        Deletes existing non-Primary phone number based on the customer ID and phoneNumber ID provided in the query path for a customer. 
        Deletion of Primary Phone number is not allowed.
      operationId: 5ddddf116ba1f7016a64aec4
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the phone number to be deleted
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: phoneNumberId
          in: path
          description: Unique identifier associated to the phone number to be deleted
          required: true
          schema:
            enum:
              - '9999999'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete customer phone number based on phoneNumber ID and customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Phone number successfully deleted
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: phoneNumberId
                    message: Deletion of Primary phone number is not allowed.
              schema:
                description: ''
                type: object
                properties:
                  errorCode:
                    type: string
                    minLength: 1
                  message:
                    type: string
                    minLength: 1
                  errors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - field
                        - message
                      properties:
                        field:
                          type: string
                          minLength: 1
                        message:
                          type: string
                          minLength: 1
                required:
                  - errorCode
                  - message
                  - errors
                x-examples:
                  example-1:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: phoneNumberId
                        message: Deletion of Primary phone number is not allowed.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/emailAddresses/{emailAddressId}':
    put:
      tags:
        - EmailAddresses
      summary: Update Email Address
      description: |-
        Updates existing email address of a customer based on the customer ID and email ID provided.

        >
        Note: If a customer has a Guarantor and the guarantor has an email address, then the guarantor’s email address will always be the preferred email address. Any attempt to update other non-guarantor email address to primary email address (isPrimary=true) will be ignored.
      operationId: 5ddddd9b5cfbcb04e6dcdf02
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the email to be updated.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
            default: '1234567'
        - name: emailAddressId
          in: path
          description: Unique identifier associated to the email to be updated.
          required: true
          schema:
            enum:
              - '7777777'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
            type: string
            default: '201'
      requestBody:
        description: |-
          Allows to update an email address to an existing customer. 
          If 'isPrimary' field is set to 'true' value, when the email address is successfully updated, all other existing email addresses belong to the customer will have their 'isPrimary' set to 'false'.
          Primary email address is not allowed to be updated to false(i.e. non-Primary).
            
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEmailAddressRequest'
            example:
              emailName: john
              emailAddress: john.doe@debitsuccess.com
              isPrimary: true
      responses:
        '200':
          description: Email address successfully updated.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200UpdateEmailAddress'
              example:
                emailAddressId: '7777777'
                emailName: john
                emailAddress: john.doe@debitsuccess.com
                isPrimary: true
        '400':
          description: 'Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400UpdateEmailAddress'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: emailName
                    message: EmailName must not exceed 50 characters.
                  - field: emailAddress
                    message: EmailAddress is required.
                  - field: emailAddress
                    message: EmailAddress format is invalid.
                  - field: emailAddress
                    message: EmailAddress must not exceed 75 characters.
                  - field: emailAddress
                    message: EmailAddress provided already exists.
                  - field: isPrimary
                    message: Each customer must have 1 primary email address.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Occurs when the customer id provided does not exist or the email matching the email id does not exist.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The resource provided could not be found
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              schema:
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              schema:
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              schema:
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              schema:
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
                default: 1377013266
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - EmailAddresses
      summary: Get Email Address
      description: 'Retrieves customer email address based on the customer ID and email ID provided in the query path. '
      operationId: 5dddde489a7ff4cb75f7efb1
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the email to be extracted.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: emailAddressId
          in: path
          description: Unique identifier associated to the email to be extracted.
          required: true
          schema:
            enum:
              - '7777777'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer email address based on customer ID and email ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetEmailAddress'
              example:
                emailAddressId: '7777777'
                emailName: john
                emailAddress: john.doe@debitsuccess.com
                isPrimary: false
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403ForbiddenClaims'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    delete:
      tags:
        - EmailAddresses
      summary: Delete Email Address
      description: |-
        Delete existing non-Primary email address based on the customer ID and email ID provided in the query path for a customer. 
        Deletion of Primary Email address is not allowed.
      operationId: 5ddddef95c4ee1ef71d3044e
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer owning the email to be deleted
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: emailAddressId
          in: path
          description: Unique identifier associated to the email to be deleted
          required: true
          schema:
            enum:
              - '7777777'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete email address based on customer ID and email ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: Email address successfully deteleted
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: emailAddresses.emailAddressId
                    message: Deletion of Primary email address is not allowed.
              schema:
                description: ''
                type: object
                properties:
                  errorCode:
                    type: string
                    minLength: 1
                  message:
                    type: string
                    minLength: 1
                  errors:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - field
                        - message
                      properties:
                        field:
                          type: string
                          minLength: 1
                        message:
                          type: string
                          minLength: 1
                required:
                  - errorCode
                  - message
                  - errors
                x-examples:
                  example-1:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: emailAddresses.emailAddressId
                        message: Deletion of Primary email address is not allowed.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/phoneNumbers':
    get:
      tags:
        - PhoneNumbers
      summary: Get Phone Numbers
      description: 'Retrieves the detail of all phone numbers of a customer based on the customer ID provided in the query path. '
      operationId: 5dddddd2bfa8e2680bcce4e2
      parameters:
        - name: customerId
          in: path
          description: 'Unique identifier associated to the customer. If provided, all phone numbers belong to this customer will to be extracted.'
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: nextCursor
          in: query
          description: |-
            Indicate the position of the next record to be fetched into the list. 
            Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with a list customer phone numbers based on customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetPhoneNumbers'
              example:
                phoneNumbers:
                  - phoneNumberId: '9999998'
                    phoneName: john
                    countryCode: '+64'
                    areaCode: '09'
                    phoneType: mobile
                    phoneNumber: 264 5555
                    isPrimary: true
                  - phoneNumberId: '9999999'
                    phoneName: jean
                    countryCode: '+64'
                    areaCode: '09'
                    phoneType: emergency
                    phoneNumber: 264 8888
                    isPrimary: false
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    post:
      tags:
        - PhoneNumbers
      summary: Add Phone Number
      description: Adds phone number to an existing customer.
      operationId: 5ddde18fb48942b2d52c7a8e
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer whom the phone number is created for
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |-
          If "isPrimary" is set to "true", when this phone number successfully added, all other existing phone numbers belong to the customer will have their "isPrimary" field set to "false". 
          >
          Refer to the [supporting documentation](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md) for the accepted values for `countryCode`.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPhoneNumberRequest'
            example:
              phoneName: john
              countryCode: '+64'
              areaCode: '09'
              phoneNumber: 264 5555
              phoneType: Home
              isPrimary: true
      responses:
        '201':
          description: Customer phone number successfully created for the customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201AddPhoneNumber'
              example:
                phoneNumberId: '9999999'
                phoneName: john
                countryCode: '+64'
                areaCode: '09'
                phoneNumber: 264 5555
                phoneType: home
                isPrimary: true
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400AddPhoneNumber'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: phoneName
                    message: PhoneName is required.
                  - field: phoneName
                    message: PhoneName must not exceed 50 characters.
                  - field: countryCode
                    message: CountryCode is required.
                  - field: countryCode
                    message: CountryCode must not exceed 4 characters.
                  - field: areaCode
                    message: AreaCode must not exceed 4 characters.
                  - field: phoneNumber
                    message: PhoneNumber is required.
                  - field: phoneNumber
                    message: PhoneNumber provided is invalid.
                  - field: phoneNumber
                    message: PhoneNumber must not exceed 75 characters.
                  - field: phoneNumber
                    message: PhoneNumber provided already exists.
                  - field: phoneType
                    message: PhoneType is required.
                  - field: phoneType
                    message: PhoneType is invalid.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/emailAddresses':
    get:
      tags:
        - EmailAddresses
      summary: Get Email Addresses
      description: 'Retrieves all email addresses belong to a customer based on customer ID provided in the query path. '
      operationId: 5dddde2faf5a4e7d30f9b11e
      parameters:
        - name: customerId
          in: path
          description: 'Unique identifier associated to the customer. If provided, all emails belong to this customer will be extracted.'
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: nextCursor
          in: query
          description: |-
            Indicate the position of the next record to be fetched into the list. 
            Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with customer email addresses based on customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetEmailAddresses'
              example:
                emailAddresses:
                  - emailAddressId: '6666666'
                    emailName: john
                    emailAddress: john.doe@debitsuccess.com
                    isPrimary: false
                  - emailAddressId: '7777777'
                    emailName: jean
                    emailAddress: jean.doe@debitsuccess.com
                    isPrimary: true
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    post:
      tags:
        - EmailAddresses
      summary: Add Email Address
      description: Adds email address to an existing customer based on customer ID provided.
      operationId: 5ddde1a62bd5ea6d280dfe70
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer whom the email is created for
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: 'If "isPrimary" is set to "true", when this email address successfully added, all other existing email addresses belong to the customer will have their "isPrimary" field set to "false".'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddEmailAddressRequest'
            example:
              emailName: jean
              emailAddress: jean.doe@debitsuccess.com
              isPrimary: true
      responses:
        '201':
          description: Email address successfully created for the customer ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201AddEmailAddress'
              example:
                emailAddressId: DEFR56YH-GT67-GTR3-DAV7-GTYH789KIJNB
                emailName: jean
                emailAddress: jean.doe@debitsuccess.com
                isPrimary: true
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400AddEmailAddress'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: emailName
                    message: EmailName must not exceed 50 characters.
                  - field: emailAddress
                    message: EmailAddress is required.
                  - field: emailAddress
                    message: EmailAddress format is invalid.
                  - field: emailAddress
                    message: EmailAddress must not exceed 75 characters.
                  - field: emailAddress
                    message: EmailAddress provided already exists.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/suspensionSchedules':
    get:
      tags:
        - Schedules-Suspension
      summary: Get Schedules (Suspension)
      description: 'Retrieves list of suspension Schedules based on Account ID provided. '
      operationId: 5de96099b72c6266f54f0168
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the suspension schedules to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with a list of suspension schedules details based on query list provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetSuspensionSchedules'
              example:
                suspensionSchedules:
                  - scheduleId: '12345678'
                    accountId: AILL056H6
                    accountExternalId: ABC12345
                    suspensionScheduleStartDate: '2019-01-31'
                    suspensionScheduleEndDate: '2019-11-31'
                    suspensionFee: 50
                    frequency: monthly
                    scheduleDescription: Suspension schedule Jan-Nov 2019
                    externalScheduleId: S125810
                  - scheduleId: '12345679'
                    accountId: AILL056H6
                    accountExternalId: ABC12345
                    suspensionScheduleStartDate: '2020-02-31'
                    suspensionScheduleEndDate: ''
                    suspensionFee: 5
                    frequency: weekly
                    scheduleDescription: Suspension schedule Feb 2020
                    externalScheduleId: S125811
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    post:
      tags:
        - Schedules-Suspension
      summary: Create Schedule (Suspension)
      description: Create a suspension schedule for an existing account based on the Account ID provided
      operationId: 5de960d65fd7c9955030668f
      parameters:
        - name: accountId
          in: path
          description: Unique identifier of the account associated to this Suspension Schedule
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
            default: CWAUS999999
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Request to create suspension schedule for existing account based on Account ID provided.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSuspensionScheduleRequest'
            example:
              minimumEffectiveDate: '2020-01-31'
              suspensionScheduleEndDate: '2020-02-29'
              suspensionFee: 50
              frequency: monthly
              numberOfPayments: 0
              scheduleDescription: Suspension schedule Jan-Feb
              externalScheduleId: S125810
      responses:
        '201':
          description: Suspension schedule is successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreateSuspensionSchedule'
              example:
                scheduleId: '12345678'
                accountId: CWAUS999999
                suspensionScheduleStartDate: '2020-01-31'
                suspensionScheduleEndDate: '2020-02-29'
                suspensionFee: 50
                frequency: monthly
                scheduleDescription: Suspension schedule Jan-Feb
                externalScheduleId: S125810
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreateSuspensionSchedule'
              examples:
                example-1:
                  value:
                    errorCode: validation
                    message: Unable to process request due to validation errors.
                    errors:
                      - field: minumumEffectiveDate
                        message: MinumumEffectiveDate is required.
                      - field: minumumEffectiveDate
                        message: MinumumEffectiveDate is invalid.
                      - field: minumumEffectiveDate
                        message: MinumumEffectiveDate must not be in the past.
                      - field: minumumEffectiveDate
                        message: MinumumEffectiveDate must not be prior to AccountStartDate.
                      - field: minumumEffectiveDate
                        message: Suspension schedule must not overlap with another existing suspension schedule.
                      - field: minumumEffectiveDate
                        message: MinimumEffectiveDate provided has no pay-schedule that can be suspended.
                      - field: minumumEffectiveDate
                        message: MinumumEffectiveDate must not more than 10 years from now for an on-going account.
                      - field: suspensionScheduleEndDate
                        message: SuspensionScheduleEndDate is invalid.
                      - field: suspensionScheduleEndDate
                        message: SuspensionScheduleEndDate must not be prior to minumumEffectiveDate.
                      - field: suspensionScheduleEndDate
                        message: SuspensionScheduleEndDate must not be in the past.
                      - field: suspensionFee
                        message: SuspensionFee is invalid.
                      - field: suspensionFee
                        message: SuspensionFee must be $0.00 OR between $1.00 and (maxAmount).
                      - field: frequency
                        message: Frequency is required if suspensionFee is provided.
                      - field: frequency
                        message: Frequency is invalid.
                      - field: frequency
                        message: Frequency is not required if SuspensionFee is $0.00 or not provided.
                      - field: numberOfPayments
                        message: NumberOfPayments must be between 1 and <maxNumberPayment> (both inclusive).
                      - field: numberOfPayments
                        message: NumberOfPayments is not required if suspensionScheduleEndDate is provided.
                      - field: scheduleDescription
                        message: ScheduleDescription must not exceed 50 characters.
                      - field: externalScheduleId
                        message: ExternalScheduleId must not exceed 50 characters.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: customer_access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
                example-2:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account does not have any active recurring payment schedule.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  /overdueStatusChanges:
    get:
      tags:
        - OverdueStatusChanges
      summary: Get OverdueStatusChanges
      description: Retrieves overdue status changes according to the query parameters provided.
      operationId: 5e1778c773c4b5d0db9def9c
      parameters:
        - name: fromDatetime
          in: query
          description: 'From datetime - range used to filter overdue status change records to be extracted. For example, 2020-06-23T00:00:00.000Z.'
          schema:
            enum:
              - '2020-06-23T00:00:00.000Z'
            type: string
            default: '2020-06-23T00:00:00.000Z'
        - name: toDatetime
          in: query
          description: 'To datetime - range used to filter overdue status change records to be extracted. For example, 2020-07-03T00:00:00.000Z.'
          schema:
            enum:
              - '2020-07-03T00:00:00.000Z'
            type: string
            default: '2020-07-03T00:00:00.000Z'
        - name: businessAccountId
          in: query
          description: |
            Contract Prefix of Business Account associated to the accounts and overdue status changes to be extracted
          schema:
            enum:
              - DSFit1
            type: string
        - name: accountId
          in: query
          description: Unique identifier associated to the specific account the overdue status changes to be extracted.
          schema:
            enum:
              - AILL056H6
            type: string
        - name: order
          in: query
          description: 'This flag is used to indicate if the retrieval should be done in ascending or descending order, The default value is ascending.'
          schema:
            enum:
              - Ascending
              - Descending
            type: string
            default: Ascending
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with all overdue status changes based on the query parameters provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetOverdueStatusChanges'
              example:
                overdueStatusChanges:
                  - businessAccountId: DSFit1
                    accountId: AILL056H6
                    AccountExternalId: ABC123
                    fromODStatus: 0
                    fromODAmount: 0
                    fromODStatusChangeDateTime: '2019-01-01T08:11:55.0000000+00:00'
                    toODStatus: 1
                    toODAmount: 10
                    toODStatusChangeDateTime: '2019-01-02T08:11:55.0000000+00:00'
                  - businessAccountId: DSFit1
                    accountId: AILL056H8
                    AccountExternalId: ABC122
                    fromODStatus: 1
                    fromODAmount: 100
                    fromODChangeDateTime: '2019-01-01T08:11:55.0000000+00:00'
                    toODStatus: 0
                    toODAmount: 0
                    toODStatusChangeDateTime: '2019-01-02T08:11:55.0000000+00:00'
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  /payments:
    get:
      tags:
        - Payment History
      summary: Get Payment History
      description: Retrieves payment records based on the query parameters provided.
      operationId: 5e17882a16aec12fe3399d74
      parameters:
        - name: fromDatetime
          in: query
          description: 'From datetime - range used to filter payment records to be extracted. For example, 2020-06-23T00:00:00.000Z'
          schema:
            enum:
              - '2020-06-23T00:00:00.000Z'
            type: string
            default: '2020-06-23T00:00:00.000Z'
        - name: toDatetime
          in: query
          description: 'To datetime - range used to filter payment records to be extracted. For example, 2020-07-03T00:00:00.000Z.'
          schema:
            enum:
              - '2020-07-03T00:00:00.000Z'
            type: string
            default: '2020-07-03T00:00:00.000Z'
        - name: businessAccountId
          in: query
          description: |
            Contract Prefix of Business Account associated to the accounts and payments to be extracted.
          schema:
            enum:
              - DSFit1
            type: string
        - name: accountId
          in: query
          description: Unique identifier associated to the specific account of the payments to be extracted.
          schema:
            enum:
              - AILL056H6
            type: string
        - name: includeFees
          in: query
          description: Flag to indicate if Debitsuccess fee transactions should be extracted. Default to false if not provided.
          schema:
            enum:
              - false
            type: boolean
            default: false
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: order
          in: query
          description: 'This flag is used to indicate if the retrieval should be done in ascending or descending order,  The default value is ascending.'
          schema:
            enum:
              - Ascending
              - Descending
            type: string
            default: Ascending
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: |-
            Successful response with all payments based on the query parameters provided.

            >
            Refer to the [supporting documentation](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md) for the possible values returned for `paymentCode`, `paymentMethod` and `paymentErrorCode`.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetPayments'
              example:
                payments:
                  - businessAccountId: DSFit1
                    accountId: AILL056H6
                    batchNumber: '12345'
                    paymentAmount: 10
                    paymentDateTime: '2019-01-01T08:11:55.0000000+00:00'
                    paymentDescription: Payment Desc ABC
                    paymentCode: Payment
                    paymentErrorCode: Insufficient Funds
                    paymentMethod: DD
                    paymentId: '1234'
                    externalPaymentIdentifier: '9999'
                    reversedPaymentId: ''
                    retryCount: 1
                  - businessAccountId: DSFit1
                    accountId: AILL056H8
                    batchNumber: '23456'
                    paymentAmount: 30
                    paymentDateTime: '2019-01-01T08:11:55.0000000+00:00'
                    paymentDescription: Payment Desc ABC
                    paymentCode: Payment
                    paymentErrorCode: ''
                    paymentMethod: CC
                    paymentId: '1235'
                    externalPaymentIdentifier: '1111'
                    reversedPaymentId: ''
                    retryCount: 1
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/accounts/{accountId}/oneOffSchedules/{scheduleId}':
    delete:
      tags:
        - Schedules-OneOff
      summary: Delete Schedule (One-off)
      description: |
        Delete one-off schedule based on query parameters provided.

        Notes: 
        1) Due date of the recurring schedule that needs to be deleted must be in the future
        2) Deletion of schedule with due date equal current date is only allowed before the cut off time.
      operationId: 5e2a009ddd899180b8c4534f
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the one-off schedule to be deleted
          required: true
          schema:
            enum:
              - CWAUS999999
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the schedule to be deleted
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful delete one-off schedule based on query parameters provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200DeletedOK'
              example:
                message: One-off schedule successfully deleted
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              examples:
                example:
                  value:
                    errorCode: access_denied
                    message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
                example-1:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the account is not active.
                example-2:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as scheduleId must be a future schedule.
                example-3:
                  value:
                    errorCode: access_denied
                    message: Unable to process this request as the cut-off time has passed for today.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '422':
          description: 422 - Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/422DeleteOneOffSchedule'
              example:
                message: Unable to process this request as the schedule is due for billing today.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    get:
      tags:
        - Schedules-OneOff
      summary: Get Schedule (One-off)
      description: 'Retrieves one-off schedule based on account ID and schedule ID provided in the query path. '
      operationId: 5e4300faa97a9e2869d3fa11
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account of the one-off schedule to be extracted.
          required: true
          schema:
            enum:
              - AILL056H6
            type: string
        - name: scheduleId
          in: path
          description: Unique identifier associated to the one-off schedule to be extracted
          required: true
          schema:
            enum:
              - '12345678'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with one-off schedule details based on  account ID and schedule ID provided.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetOneOffSchedule'
              example:
                scheduleId: '12345678'
                accountId: AILL056H6
                dueDate: '2021-05-26'
                amount: 50
                scheduleDescription: One-off Schedule
                externalScheduleId: S125810
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/customers/{customerId}/paymentMethods':
    post:
      summary: INTERNAL API - Create PaymentMethod
      description: |-
        Create a payment method for an existing customer or account.

        Notes: If payment method is created for account (i.e. AccountId is used in this request) all current and future schedules associated to the account will have their payment method updated. Schedules that are due on the same day as this request will likely to have the update effective on next due date.

        IMPORTANT: This API is intended for internal use only. If you decide to capture credit cards yourself and pass them through the API then you would be required to get a PCI assessment as opposed to doing a PCI self assessment.
      operationId: 5e4317913b44f651f411dc64
      parameters:
        - name: customerId
          in: path
          description: Unique identifier to the customer whom this payment method is to be created for.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: Request to create payment method for existing customer or account.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentMethodRequest'
            example:
              accountId: DS1234567
              holderName: TestName
              paymentMethodType: CreditCard
              number: '4111111111111111111'
              cardType: visa
              cardExpiryDate: 11/21
      responses:
        '201':
          description: Payment method created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreatePaymentMethod'
              example:
                paymentMethodToken: W3E4R5TY-5T54-76YT-78UY-DEFR435TGH67
                holderName: TestName
                paymentMethodType: CreditCard
                number: '**** 1111'
                cardType: visa
                cardExpiryDate: 11/21
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreatePaymentMethod'
              example:
                errorCode: validation
                message: Invalid request
                errors:
                  - field: accountId
                    message: AccountId is invalid.
                  - field: accountId
                    message: Payment method cannot be created for closed accounts.
                  - field: holderName
                    message: HolderName is required.
                  - field: holderName
                    message: HolderName must not exceed 50 characters.
                  - field: paymentMethodType
                    message: PaymentMethodType is required.
                  - field: paymentMethodType
                    message: PaymentMethodType is invalid.
                  - field: number
                    message: Number is required.
                  - field: number
                    message: Number is invalid.
                  - field: number
                    message: Number provided already exist for this customer.
                  - field: number
                    message: Number must not exceed 30 characters.
                  - field: cardType
                    message: CardType is required.
                  - field: cardType
                    message: CardType is invalid.
                  - field: cardType
                    message: CardType does not match with the number provided.
                  - field: cardExpiryDate
                    message: CardExpiryDate is required.
                  - field: cardExpiryDate
                    message: Invalid cardExpiryDate format provided. Please use MM/YY.
                  - field: cardExpiryDate
                    message: CardExpiryDate must not be in the past.
                  - field: cardExpiryDate
                    message: CardExpiryDate must not exceed <max expiry limit> years.
                  - field: cardExpiryDate
                    message: Payment method with the same cardExpiryDate and number already exist for this customer.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
        '422':
          description: Unprocessable Entity - Occurs when the resource provided is not supported
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/422CreatePaymentMethod'
              example:
                message: The selected card type is not supported by this business.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
      x-internal: true
    get:
      tags:
        - Payment Methods
      summary: Get PaymentMethods
      description: 'Retrieves payment methods for a customer based on customer ID or account ID provided in the query path. '
      operationId: 5e4455583fd65825b0b555dc
      parameters:
        - name: customerId
          in: path
          description: Unique identifier of the customer associated to the payment methods to be extracted.
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: accountId
          in: query
          description: 'Unique identifier associated to the account. If provided, all payment methods associated to the customer of this account will be extracted with defaultPaymentMethod identified.'
          schema:
            enum:
              - DSfit12345
            type: string
        - name: nextCursor
          in: query
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
          schema:
            enum:
              - TmV4dEl0ZW1JZDox
            type: string
        - name: limit
          in: query
          description: |
            Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
          schema:
            enum:
              - 10
            type: integer
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: Successful response with payment method details based on customer ID or account ID provided
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetPaymentMethod'
              example:
                paymentMethods:
                  - paymentMethodToken: verv45g5-5t4r-56yu-345r-t5t5ttgrfedf
                    paymentMethodType: CreditCard
                    holderName: TestName
                    number: '***1111'
                    cardType: visa
                    cardExpiryDate: 12/25
                    defaultPaymentMethod: true
                  - paymentMethodToken: cdrft678-3456-78ik-hnhf-gbbggfdsrtyj
                    paymentMethodType: BankAccount
                    holderName: Test
                    number: '***000000'
                    cardType: ''
                    cardExpiryDate: ''
                    defaultPaymentMethod: false
                responseMetadata:
                  nextCursor: TmV4dEl0ZW1JZDoz
                  hasNext: true
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: customer_access_denied
                message: Unable to process this request as you do not have access to the customer associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/404NotFound'
              example:
                message: The requested resource could not be found.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
    patch:
      tags:
        - Customers
      summary: Patch Customer
      description: |-
        Assign payment method created via [Payment Method Capture widget](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Widgets/Payment-Capture-Widget.md) to customer.

        Only oneTimePaymentMethodToken field is supported in this request. Any attempt to change any other field will cause errors.
        >
        Notes: The one-off payment token created via the Payment Method Capture widget should be used in this request. This token is for single use only. Once the payment method is successfully assigned to the customer, a permanent payment method token will be associated to the customer.  
      operationId: 5fb4455ff434cfa57bcb16ce
      parameters:
        - name: customerId
          in: path
          description: Unique identifier associated to the customer to be assigned with the payment method
          required: true
          schema:
            enum:
              - '1234567'
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: |-
          Exactly one address + one email + one phone number are required when creating a new customer.
          All of them will be created as 'Primary' contact of their own type for the customer (i.e. isPrimary="true").
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchCustomerRequest'
            example:
              oneTimePaymentMethodToken: edgr3845-r45t-332r-2345-eert45trrtyy
      responses:
        '200':
          description: Payment method successfully assigned to the customer.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200PatchCustomer'
              example:
                paymentMethodToken: W3E4R5TY-5T54-76YT-78UY-DEFR435TGH67
                holderName: TestName
                paymentMethodType: CreditCard
                number: '**** 1111'
                cardType: visa
                cardExpiryDate: 11/22
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400PatchCustomer'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: oneTimePaymentMethodToken
                    message: oneTimePaymentMethodToken is required.
                  - field: oneTimePaymentMethodToken
                    message: oneTimePaymentMethodToken not found.
                  - field: oneTimePaymentMethodToken
                    message: oneTimePaymentMethodToken doesn't belong to a business account.
                  - field: firstName
                    message: Unsupported property.
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_customer\_associated\_to\_this\_request."
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businessAccounts/{businessAccountId}/termsAndConditions':
    get:
      tags:
        - Terms and Conditions
      summary: Get Terms and Conditions
      description: Retrieves Terms and Condition associated to the business account(FacilityAccount) based on the businessAccount ID provided.
      operationId: 5e7146127151f8d56912df7c
      parameters:
        - name: businessAccountId
          in: path
          description: Contract Prefix associated to the business account of the terms and conditions  to be extracted
          required: true
          schema:
            enum:
              - DSFit1
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
      responses:
        '200':
          description: |
            Successful response with the  terms and conditions of the business account (Facility Account) based on the businessAccount ID provided. 
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetTermsAndConditions'
              example:
                businessAccountId: DSFit1
                name: QikKids Product Invoicing
                description: version 2.0
                termsHTML: '<p><strong>DEBITSUCCESS DIRECT DEBIT REQUEST (DDR) SERVICE AGREEMENT<br /> </strong>This Agreement is designed to explain what your obligations are when undertaking a Direct Debit arrangement involving Debitsuccess.&nbsp; It also details what our obligations are to you and forms part of the terms and conditions of your Direct Debit Request (DDR) and should be read in conjunction with your DDR Authorisation Form.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>INITIAL TERMS<br /> </strong>I/We authorise Debitsuccess Pty Limited (ACN: 095 551 581) APCA User ID 518466 to make periodic debits on behalf of the &ldquo;Business&rdquo; as indicated on DDR Authorisation Form (herein referred to as the Business).<strong><br /> </strong>I/We acknowledge that if specified by the Business, in addition to the agreed periodic debits set out in the DDR Authorisation Form, administration/setup, variation, reversal, dishonour,&nbsp; or processing fees may also apply and be debited under the DDR as instructed by the Business.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>RELATIONSHIP<br /> </strong>I/We acknowledge that Debitsuccess is acting as an agent of the Business and that Debitsuccess does not provide any goods or services, and has no express or implied liability in relation to the goods and services provided by the Business or the terms and conditions of any agreement with the Business.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>CLEARED FUNDS<br /> </strong>I/We acknowledge that is my/our responsibility to ensure that there are sufficient cleared funds in the nominated account by, and at all times on, the due date of the payment (&ldquo;Day to Debit&rdquo;) to enable the direct debit to be honoured on the Day to Debit. I/We acknowledge and agree that sufficient funds will remain in the nominated account until the direct debit amount has been debited from the account and that if there are insufficient funds available when the debit is attempted, I/we agree that I/we will be responsible for any fees and charges that may be charged by my/our Financial Institution.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>VARIATIONS TO DEBIT TERMS</strong></p>  <p>I/We authorise the Business to vary the amount of the payments from time to time if provided for within my/our agreement with the Business. I/We authorise Debitsuccess to vary the amount of the payments upon instructions from the Business, and where such instructions from the Business are received by Debitsuccess, I/we do not require Debitsuccess to notify me/us of such variations to the debit amount. <br /> I/We acknowledge that Debitsuccess/Business is to provide 14 days&rsquo; notice if proposing to vary the terms of the debit arrangements otherwise than as provided for herein.</p>  <p>I/We acknowledge that my/our requests to vary, defer or stop the debit arrangement must be directed to the Business.</p>  <p>&nbsp;</p>  <p><strong>CANCELLING THESE DEBIT TERMS <br /> </strong>I/We understand that I/we are able to cancel this DDR by requesting this of the Business or my/our Financial Institution, and I/we acknowledge that cancellation of the authority to debit my/our account will not terminate my/our agreement with the Business or remove my/our liability to make the payments I/we have agreed to.</p>  <p>&nbsp;</p>  <p><strong>NON WORKING DAY</strong></p>  <p>When the day to debit falls on a weekend or public holiday the debit will be initiated on the next working day.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>DISHONOURED PAYMENTS<br /> </strong>I/We acknowledge that:&nbsp; <strong><br /> </strong>(a) if a debit is returned by my/our Financial Institution as unpaid, I/we will be responsible for any Debitsuccess fees and charges (currently up to $14.95 for each unsuccessful debit), in addition to any Financial Institution charges and collection fees (including, but not limited to, any fees of solicitors and collection agents appointed by Debitsuccess); and<strong><br /> </strong>(b) Debitsuccess may attempt to re-process any unsuccessful payments as advised by the Business and/or add such unsuccessful payment to any future payments.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>ACCURACY OF INFORMATION<br /> </strong>I/We acknowledge that it is my/our responsibility to ensure that the details entered on the DDR Authorisation Form are correct and that Debitsuccess is not liable to the extent that any such details are wrong and this causes a required payment to be missed. In addition, where I/we are paying the required payments by credit card and have entered the details of the credit card on the DDR Authorisation Form, I/we agree that Debitsuccess may continue to debit from the credit card in accordance with the terms of this Agreement to the extent that the credit card has expired, and that it wholly my/our responsibility to provide details of any replacement credit card to Debitsuccess via the Business.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>DISPUTES<br /> </strong>I/We acknowledge that any disputes regarding debit payments will be directed to the Business. If no resolution is forthcoming, I/we understand that I/we are to direct any such dispute to my/our Financial Institution.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>OTHER AUTHORISATIONS<br /> </strong>I/We authorise:</p>  <p>(a) The Debitsuccess to verify details of my/our account with my/our Financial Institution; and</p>  <p>(b) The Financial Institution to release information allowing Debitsuccess to verify my/our account details.</p>  <p><strong>&nbsp;</strong></p>  <p><strong>INFORMATION SECURITY </strong></p>  <p>Debitsuccess agrees that it will make reasonable efforts to keep your information contained in the DDR (including account details) and any other information that we have about you confidential and secure, and will ensure that any of our employees or agents who have access to information about you do not make any unauthorised use, modification, reproduction or disclosure of that information.</p>  <p>Debitsuccess will only disclose information that we have about you:</p>  <p>(a) to the extent specifically required by law; or</p>  <p>(b) for the purposes of this Agreement (including disclosing information in connection with any query or claim).</p>'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business account associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businessAccounts/{businessAccountId}/paymentMethods':
    post:
      summary: INTERNAL API - Create PaymentMethod (for Business Account)
      description: |-
        Create a temporary payment method at business account level before customer creation. 

        Notes:  Once the customer is created, the one-time token in the response of this endpoint will be used to assigned this payment method to the customer via PATCH Customer request.

        IMPORTANT: This API is intended for internal use only. If you decide to capture credit cards yourself and pass them through the API then you would be required to get a PCI assessment as opposed to doing a PCI self assessment.
      operationId: 5fb44b95039ef22772141a66
      parameters:
        - name: businessAccountId
          in: path
          description: |
            Contract Prefix associated to the business account is which the payment method is created for
          required: true
          schema:
            enum:
              - Dem123
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: 'Request to create payment method for the business account '
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePaymentMethodforBARequest'
            example:
              holderName: TestName
              paymentMethodType: CreditCard
              number: '4111111111111111111'
              cardType: visa
              cardExpiryDate: 11/21
      responses:
        '201':
          description: Payment method created successfully under the specified business account
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201CreatePaymentMethodForBA'
              example:
                oneTimePaymentMethodToken: W3E4R5TY-5T54-76YT-78UY-DEFR435TGH67
                tokenExpiryDateTime: '2020-08-21T11:59:59.0000000+00:00'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400CreatePaymentMethod'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_customer\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
        '422':
          description: Unprocessable Entity - Occurs when the resource provided is not supported
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/422CreatePaymentMethod'
              example:
                message: The selected card type is not supported by this business.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
      x-internal: true
  '/accounts/{accountId}/paymentTokens':
    post:
      tags:
        - PaymentToken
      summary: Generate PaymentToken (for Account Payment)
      description: |
        Generate a link to paynow page so that user can make a payment to an account using credit card
      operationId: 60231eec62d17ed94b9acda8
      parameters:
        - name: accountId
          in: path
          description: Unique identifier associated to the account this payment token is created for
          required: true
          schema:
            enum:
              - DEA2345678
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: 'Request to create payment method for the business account '
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetPaymentTokenForAccountPaymentRequest'
            example:
              amount: 10
              callbackURL: 'https://www.myclub.fake/payment-redirect'
              createOneOffCharge: true
              paymentNote: payment note
      responses:
        '201':
          description: Payment token created and PayNow link generated successfully under the specified account
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201GetPaymentTokenForAccountPayment'
              example:
                token: KBpE6YKu
                webhookToken: hnYzjH2S
                validTo: '2021-01-12TT01:59:59.000Z'
                paymentFormURL: 'https://oc-qa-sk.debitsuccess.com/PayNow/T/KBpE6YKu'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400GetPaymentTokenForAccountPayment'
              example:
                errorCode: validation
                message: Unable to process request due to validation errors.
                errors:
                  - field: amount
                    message: Amount is required.
                  - field: amount
                    message: Amount is invalid.
                  - field: amount
                    message: 'Amount must be greater than or equal to ${minAmount} and less than or equal to ${maxPayment}.'
                  - field: amount
                    message: Amount cannot be more than the outstanding balance when account is set to fixed term.
                  - field: createOneOffCharge
                    message: CreateOneOffCharge is required.
                  - field: paymentNote
                    message: PaymentNote is required if CreateOneOffCharge is true.
                  - field: paymentNote
                    message: PaymentNote cannot exceed 30 characters.
                  - field: paymentNote
                    message: PaymentNote is invalid.
                  - field: callbackURL
                    message: CallbackURL is required.
                  - field: callbackURL
                    message: CallbackURL cannot exceed 256 characters.
                  - field: callbackURL
                    message: 'CallbackURL is invalid. Ensure URL is correctly formatted. Example: https://www.debitsuccess.com'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: "Unable\_to\_process\_this\_request\_as\_you\_do\_not\_have\_access\_to\_the\_account\_associated\_to\_this\_request."
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
        '422':
          description: Unprocessable Entity - Occurs when the resource provided is not supported
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/422CreatePaymentMethod'
              example:
                message: Cannot find commission details configured for this business. Please contact Debitsuccess.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businessAccounts/{businessAccountId}/paymentTokens':
    post:
      tags:
        - PaymentToken
      summary: Generate PaymentToken (for Casual Payment)
      description: |
        Generate a link to paynow page so that user can make a casual using credit card
      operationId: 6032d38d4c55a6c59ff9de42
      parameters:
        - name: businessAccountId
          in: path
          description: Contract Prefix associated to the business account making this casual payment
          required: true
          schema:
            enum:
              - DEA234
            type: string
        - name: Authorization
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          required: true
          schema:
            type: string
        - name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
          schema:
            enum:
              - '201'
              - '400'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '201'
      requestBody:
        description: 'Request to create payment method for the business account '
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetPaymentTokenForCasualPaymentRequest'
            example:
              amount: 10
              callbackURL: 'https://www.myclub.fake/payment-redirect'
              paymentNote: payment note
              paymentRef: ref01
      responses:
        '201':
          description: Payment token created and PayNow link generated successfully under the specified account
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/201GetPaymentTokenForCasualPayment'
              example:
                token: KBpE6YKu
                webhookToken: hnYzjH2S
                validTo: '2021-01-12TT01:59:59.000Z'
                paymentFormURL: 'https://oc-qa-sk.debitsuccess.com/PayNow/C/KBpE6YKu'
        '400':
          description: 'Bad Request - Request failed due to validation errors, the response lists the field in the request that did not pass the validation. The client can directly show these errors to the end users.'
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/400GetPaymentTokenForAccountPayment'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business account associated to this request.
        '404':
          description: Not Found - Occurs when the resource provided is not found
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
        '422':
          description: Unprocessable Entity - Occurs when the resource provided is not supported
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/422CreatePaymentMethod'
              example:
                message: Cannot find commission details configured for this business. Please contact Debitsuccess.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
  '/businesses/{businessID}/paymentStatuses':
    parameters:
      - schema:
          type: string
        name: businessID
        in: path
        required: true
        description: Unique identifier associated to the business to be extracted.
    get:
      summary: Get Payment Status
      tags:
        - Payment Status
      operationId: get-businesses-businessID-paymentstatuses
      description: Returns payment  statuses for Gateway Accounts based on the input parameters provided.
      parameters:
        - schema:
            type: string
          in: query
          name: BusinessAccountId
          description: 'ContractPrefix, if not provided, records from all facility accounts associated to the user will be extracted'
        - schema:
            type: string
          in: query
          name: AccountId
          description: Unique identifier associated to the account
        - schema:
            enum:
              - Unattempted
              - Pending
              - Retry
              - Failed
              - Cleared
              - Settled
              - Unbillable
              - CreditControl
            type: string
          in: query
          name: Status
          description: Status of the payment
        - schema:
            type: string
          in: query
          name: StartDateTime
          description: 'From datetime or date - range in UTC used to filter payment status records to be extracted. For example, 2020-06-23T00:00:00.000Z.  If StartDateTime is not provided or has invalid format then it will be ignored. if timezone not provided (i.e. only date yyyy-mm-dd is provided than default time is 00:00.00.000)'
        - schema:
            type: string
          in: query
          name: EndDateTime
          description: 'To datetime or date - range in UTC used to filter payment status records to be extracted. For example, 2020-06-23T00:00:00.000Z. If timezone not provided (i.e. only date yyyy-mm-dd is provided than default time is 23:59.59.999)  if EndDateTime is not provided or has wrong format, it will be defaulted to today date and now time'
        - schema:
            type: string
          in: query
          name: 'nextCursor '
          description: Indicate the position of the next record to be fetched into the list. Default to retrieve from the first record if not provided.
        - schema:
            type: string
          in: query
          name: Limit
          description: Indicate the number of records to be fetched into the list. Default to maximum value of 50 if not provided or value provided is greater than 50.
        - schema:
            type: string
          in: header
          description: JWT token using Bearer authorization scheme. See Debitsuccess Identity Service on how to generate the authorization token.
          name: Authorization
        - schema:
            enum:
              - '200'
              - '401'
              - '403'
              - '404'
              - '429'
              - '500'
              - '503'
            type: string
            default: '200'
          name: X-Mock-Code
          in: header
          description: Http Status code of the supported mocked responses.
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/200GetPaymentStatus'
        '401':
          description: |
            Unauthorized - Occurs when the authorization token provided is either expired or invalid.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/401Unauthorised'
              example:
                message: Authorization has been denied for this request.
        '403':
          description: Forbidden - Occurs when the client does not have sufficient claims to access this endpoint. Or when the identity server client does not have access to the business this request is being made for. see - List of claims required for this request see - Additional errorCodes returned
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            X-RateLimit-Remaining:
              description: The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            X-RateLimit-Reset:
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/403BusinessAccessDenied'
              example:
                errorCode: access_denied
                message: Unable to process this request as you do not have access to the business associated to this request.
        '429':
          description: Too Many Requests - Occurs when user has sent too many requests in a given amount of time.
          headers:
            X-Notification:
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            X-RateLimit-Limit:
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: |
                The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/429TooManyRequests'
              example:
                message: You have exceeded the maximum limit of request allowed. Please try your request again in a moment.
        '500':
          description: Internal Server Error - Something went wrong on our end (These are rare).
          headers:
            X-Notification:
              description: |
                This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: |
                The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/500InternalServerError'
              example:
                message: Something went wrong while processing your request. We’re sorry for the trouble. We’ve been notified of the error and will correct it as soon as possible. Please try your request again in a moment.
        '503':
          description: Service Unavailable - API is currently unavailable typically due to a scheduled outage – try again soon.
          headers:
            "X-Notification\t":
              description: This header will be included in all responses when there is important information about the API that will be valuable for all consumers. For example - Information such as system outage will be passed through this header.
              required: true
              schema:
                enum:
                  - 'Scheduled Api outage - 2017-01-01 22:00:00 to 2017-01-01 22:10:00'
                type: string
            "X-RateLimit-Limit\t":
              description: The maximum number of requests you're permitted to make per hour.
              required: true
              schema:
                enum:
                  - 60
                type: integer
            "X-RateLimit-Remaining\t":
              description: |
                The number of requests remaining in the current rate limit window.
              required: true
              schema:
                enum:
                  - 10
                type: integer
            "X-RateLimit-Reset\t":
              description: The time at which the current rate limit window resets in UTC epoch seconds.
              required: true
              schema:
                enum:
                  - 1377013266
                type: integer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/503ServiceUnavailable'
              example:
                message: The API is currently unavailable due to a scheduled outage – please try again soon.
components:
  schemas:
    400AddAddress:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
              message:
                type: string
            required:
              - field
              - message
    401Unauthorised:
      type: object
      properties:
        message:
          type: string
    403ForbiddenClaims:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - claim
            type: object
            properties:
              claim:
                type: string
      x-examples: {}
    403BusinessAccessDenied:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
    429TooManyRequests:
      type: object
      properties:
        message:
          type: string
    500InternalServerError:
      type: object
      properties:
        message:
          type: string
    503ServiceUnavailable:
      type: object
      properties:
        message:
          type: string
    400AddEmailAddress:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
              message:
                type: string
            required:
              - field
              - message
    400AddPhoneNumber:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
              message:
                type: string
            required:
              - field
              - message
    400CreateCustomerBusiness:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    200DeletedOK:
      type: object
      properties:
        message:
          type: string
    404NotFound:
      type: object
      properties:
        message:
          type: string
    200GetBusiness:
      type: object
      properties:
        businessId:
          type: string
        name:
          type: string
    200GetBusinesses:
      type: object
      properties:
        businesses:
          type: array
          items:
            type: object
            properties:
              businessId:
                type: string
              name:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: string
    400UpdateAddress:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400UpdateEmailAddress:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400UpdatePhoneNumber:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400CreateRecurringSchedule:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400DeleteRecurringSchedule:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400PutRecurringRequest:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    200GetAddress:
      type: object
      properties:
        addressId:
          type: string
        addressLine1:
          type: string
        addressLine2:
          type: string
        suburb:
          type: string
        state:
          type: string
        city:
          type: string
        postcode:
          type: string
        countryISOCode:
          type: string
        addressType:
          type: string
        isPrimary:
          type: boolean
    200GetAddresses:
      type: object
      properties:
        addresses:
          type: array
          items:
            type: object
            properties:
              addressId:
                type: string
              addressLine1:
                type: string
              addressLine2:
                type: string
              suburb:
                type: string
              state:
                type: string
              city:
                type: string
              postcode:
                type: string
              countryISOCode:
                type: string
              addressType:
                type: string
              isPrimary:
                type: boolean
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    201AddAddress:
      type: object
      properties:
        addressId:
          type: string
        addressLine1:
          type: string
        addressLine2:
          type: string
        suburb:
          type: string
        state:
          type: string
        city:
          type: string
        postcode:
          type: string
        countryISOCode:
          type: string
        addressType:
          type: string
        isPrimary:
          type: boolean
    UpdateAddressRequest:
      type: object
      properties:
        addressLine1:
          maxLength: 60
          type: string
        addressLine2:
          maxLength: 60
          type: string
        suburb:
          maxLength: 50
          type: string
        state:
          maxLength: 3
          type: string
        city:
          maxLength: 50
          type: string
        postcode:
          maxLength: 10
          type: string
        countryISOCode:
          maxLength: 3
          minLength: 3
          type: string
          description: '3 characters Country ISO Code. For example, NZL,AUS,USA,SGP.'
          example: NZL
        addressType:
          enum:
            - business
            - home
            - physical
            - postal
            - legal
          type: string
          description: Customers are not allowed to have multiple addresses with same address type
        isPrimary:
          enum:
            - true
          type: boolean
          description: 'Flag to set an address to be preferred for mailing. Notes: false is not required, i.e. when an adrress is being updated to isPrimary=true, all other addresses belong to the same customer will automatically set to false'
      required:
        - addressLine1
        - postcode
        - countryISOCode
        - addressType
    200GetEmailAddress:
      type: object
      properties:
        emailAddressId:
          type: string
        emailName:
          type: string
        emailAddress:
          type: string
        isPrimary:
          type: boolean
    200GetEmailAddresses:
      type: object
      properties:
        emailAddresses:
          type: array
          items:
            type: object
            properties:
              emailAddressId:
                type: string
              emailName:
                type: string
              emailAddress:
                type: string
              isPrimary:
                type: boolean
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    200GetPhoneNumber:
      type: object
      properties:
        phoneNumberId:
          type: string
        phoneName:
          type: string
        countryCode:
          type: string
        areaCode:
          type: string
        phoneType:
          type: string
        phoneNumber:
          type: string
        isPrimary:
          type: boolean
    200GetPhoneNumbers:
      type: object
      properties:
        phoneNumbers:
          type: array
          items:
            type: object
            properties:
              phoneNumberId:
                type: string
              phoneName:
                type: string
              countryCode:
                type: string
              areaCode:
                type: string
              phoneType:
                type: string
              phoneNumber:
                type: string
              isPrimary:
                type: boolean
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    201AddEmailAddress:
      type: object
      properties:
        emailAddressId:
          type: string
        emailName:
          type: string
        emailAddress:
          type: string
        isPrimary:
          type: boolean
    201AddPhoneNumber:
      type: object
      properties:
        phoneNumberId:
          type: string
        phoneName:
          type: string
        countryCode:
          type: string
        areaCode:
          type: string
        phoneNumber:
          type: string
        phoneType:
          type: string
        isPrimary:
          type: boolean
    AddEmailAddressRequest:
      type: object
      properties:
        emailName:
          maxLength: 50
          type: string
        emailAddress:
          maxLength: 75
          type: string
        isPrimary:
          enum:
            - true
            - false
          type: boolean
          description: Flag to set an email to be preferred as primary email
      required:
        - emailAddress
        - isPrimary
    200GetRecurringSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        recurringScheduleStartDate:
          type: string
        recurringScheduleEndDate:
          type: string
        installment:
          type: number
        frequency:
          type: string
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    201UpdateRecurringSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        recurringScheduleStartDate:
          type: string
        recurringScheduleEndDate:
          type: string
        installment:
          type: number
        frequency:
          type: string
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    200GetRecurringSchedules:
      type: object
      properties:
        recurringSchedules:
          type: array
          items:
            type: object
            properties:
              scheduleId:
                type: string
              accountId:
                type: string
              accountExternalId:
                type: string
              recurringScheduleStartDate:
                type: string
              recurringScheduleEndDate:
                type: string
              installment:
                type: integer
              frequency:
                type: string
              scheduleDescription:
                type: string
              externalScheduleId:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    400PutSuspensionRequest:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400CreateSuspensionSchedule:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    UpdateRecurringScheduleRequest:
      type: object
      properties:
        recurringScheduleStartDate:
          type: string
          description: Recurring schedule start date (in UTC). Updating recurringScheduleStartDate to a later date will create a gap/break between the recurringScheduleStartDate and the previous schedule's end date
        recurringScheduleEndDate:
          type: string
          description: Recurring schedule end date (in UTC). Updating recurringScheduleEndDate to an earlier date will create a gap/break between recurringScheduleEndDate and the next schedule's start date
        installment:
          type: number
          description: Recurring schedule installment amount
        frequency:
          enum:
            - weekly
            - fortnightly
            - four weekly
            - monthly
            - bi monthly
            - quarterly
          type: string
          description: Recurring schedule installment frequency
        numberOfPayments:
          type: integer
          description: Number of installments to complete this recurring schedule. Reducing numberOfPayments will bring forward recurringScheduleEndDate to an earlier date and create a gap/break between recurringScheduleEndDate and the next schedule's start date
        sheduleDescription:
          type: string
          description: Description of the recurring schedule
        externalScheduleId:
          type: string
          description: External identifier of the recurring schedule
      required:
        - recurringScheduleStartDate
        - installment
        - frequency
    200GetBusinessAccounts:
      description: ''
      type: object
      x-examples: {}
      properties:
        businessAccounts:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              businessAccountId:
                type: string
                minLength: 1
              name:
                type: string
                minLength: 1
              penaltyFee:
                type: object
                properties:
                  amount:
                    type: number
                  payer:
                    type: string
                    minLength: 1
              establishmentFee:
                type: object
                properties:
                  amount:
                    type: number
                  percent:
                    type: number
                  payer:
                    type: string
                    minLength: 1
              supportedPaymentMethods:
                type: array
                uniqueItems: true
                minItems: 1
                items:
                  type: object
                  properties:
                    paymentMethodType:
                      type: string
                      minLength: 1
              business:
                type: object
                properties:
                  businessId:
                    type: string
                    minLength: 1
                  name:
                    type: string
                    minLength: 1
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
              minLength: 1
            hasNext:
              type: boolean
    201CreateRecurringSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        recurringScheduleStartDate:
          type: string
        installment:
          type: number
        frequency:
          type: string
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
        deleteFutureSchedules:
          type: boolean
        overrideBillingCycleAlignment:
          type: boolean
        previousScheduleEndDate:
          type: string
    400UpdateAccount:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
      x-examples: {}
    201CreateCustomer:
      type: object
      x-examples: {}
      properties:
        customerId:
          type: string
        businessId:
          type: string
        customerType:
          type: string
        title:
          type: string
        firstName:
          type: string
        middleName:
          type: string
        lastName:
          type: string
        gender:
          type: string
        dateOfBirth:
          type: string
        address:
          type: object
          properties:
            addressId:
              type: string
            addressLine1:
              type: string
            addressLine2:
              type: string
            suburb:
              type: string
            postcode:
              type: string
            city:
              type: string
            state:
              type: string
            countryISOCode:
              type: string
            addressType:
              type: string
            isPrimary:
              type: boolean
        emailAddress:
          type: object
          properties:
            emailId:
              type: string
            emailName:
              type: string
            emailAddress:
              type: string
            isPrimary:
              type: string
        phoneNumber:
          type: object
          properties:
            phoneNumberId:
              type: string
            phoneName:
              type: string
            countryCode:
              type: string
            areaCode:
              type: string
            phoneNumber:
              type: string
            phoneType:
              type: string
            isPrimary:
              type: string
      required:
        - businessId
        - customerType
        - firstName
    400CreateCustomer:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    200GetCustomers:
      type: object
      properties:
        customers:
          type: array
          items:
            type: object
            properties:
              customerId:
                type: string
              business:
                type: object
                properties:
                  businessId:
                    type: string
                  name:
                    type: string
              customerType:
                type: string
              title:
                type: string
              firstName:
                type: string
              middleName:
                type: string
              lastName:
                type: string
              gender:
                type: string
              dateOfBirth:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: string
    UpdateCustomerRequest:
      type: object
      properties:
        title:
          maxLength: 10
          type: string
        firstName:
          maxLength: 40
          type: string
        middleName:
          maxLength: 40
          type: string
        lastName:
          maxLength: 40
          type: string
        gender:
          enum:
            - male
            - female
            - unspecified
            - non-binary
          type: string
        dateOfBirth:
          type: string
          description: YYYY-MM-DD
      required:
        - firstName
        - gender
        - dateOfBirth
    400UpdateCustomer:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400CreateOneOffSchedule:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    403AccessDenied:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
    201CreateSuspensionSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        suspensionScheduleStartDate:
          type: string
          pattern: YYYY-MM-DD
        suspensionScheduleEndDate:
          type: string
          pattern: YYYY-MM-DD
        suspensionFee:
          type: number
        frequency:
          type: string
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    200GetSuspensionSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        accountExternalId:
          type: string
        suspensionScheduleStartDate:
          type: string
          pattern: YYYY-MM-DD
        suspensionScheduleEndDate:
          type: string
          pattern: YYYY-MM-DD
        suspensionFee:
          type: number
        frequency:
          type: string
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    200GetSuspensionSchedules:
      type: object
      properties:
        suspensionSchedules:
          type: array
          items:
            type: object
            properties:
              scheduleId:
                type: string
              accountId:
                type: string
              accountExternalId:
                type: string
              suspensionScheduleStartDate:
                type: string
              suspensionScheduleEndDate:
                type: string
              suspensionFee:
                type: number
              frequency:
                type: string
              scheduleDescription:
                type: string
              externalScheduleId:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    201UpdateSuspensionSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        suspensionScheduleEndDate:
          type: string
          format: date
          pattern: YYYY-MM-DD
    200GetOverdueStatusChanges:
      type: object
      properties:
        overdueStatusChanges:
          type: array
          items:
            type: object
            properties:
              businessAccountId:
                type: string
                description: Business Account associated to the account extracted
              accountId:
                type: string
                description: 'System generated reference number associated with the Account. '
              fromODStatus:
                type: integer
                description: Account's previous overdue status
              fromODAmount:
                type: number
                description: Account's previous overdue amount
              fromODStatusChangeDateTime:
                type: string
                description: Account's overdue status changed date
              toODStatus:
                type: integer
                description: New overdue status
              toODAmount:
                type: number
                description: New overdue amount
              toODtatusChangeDateTime:
                type: string
                description: New overdue status changed date
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    CreateRecurringScheduleRequest:
      type: object
      properties:
        minimumEffectiveDate:
          type: string
          description: The minimum start date for the Recurring schedule start date. Unless OverrideBillingCycleAlignment = true (see below) the actual start date will be set to the first date after that aligns with the current schedule
          pattern: YYYY-MM-DD
        installment:
          type: number
          description: Recurring schedule installment amount
        frequency:
          enum:
            - weekly
            - fortnightly
            - four-weekly
            - monthly
            - bi-monthly
            - quarterly
          type: string
          description: Recurring schedule installment frequency
        sheduleDescription:
          type: string
          description: Description of the recurring schedule
          maxLength: 50
        externalScheduleId:
          type: string
          description: External identifier of the recurring schedule
          maxLength: 50
        deleteFutureSchedules:
          type: boolean
          description: This flag must be set to true since the newly created schedule always replace (or delete) any future schedules if exist
        overrideBillingCycleAllignment:
          type: boolean
          description: Flag if true will overrides default behavior and sets the start date of the new payment schedule to be the recurringScheduleStartDate
        previousScheduleEndDate:
          type: string
          description: 'PreviousScheduleEndDate is required if overrideBillingCycleAllignment is true. Else if overrideBillingCycleAllignment is false, previousScheduleEndDate will be defaulted to a day before the new recurring schedule starts'
          pattern: YYYY-MM-DD
      required:
        - minimumEffectiveDate
        - installment
        - frequency
    400CreatePaymentMethod:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    UpdateSuspenseScheduleRequest:
      type: object
      properties:
        suspensionScheduleEndDate:
          type: string
          description: Suspension schedule end date
          format: date
          pattern: YYYY-MM-DD
      required:
        - suspensionScheduleEndDate
    CreateSuspensionScheduleRequest:
      type: object
      properties:
        minimumEffectiveDate:
          type: string
          description: 'Suspension minimum effective start date. If this date falls on a payment break period, it will auto align to start on next billing date'
          pattern: YYYY-MM-DD
        suspensionScheduleEndDate:
          type: string
          description: Suspension schedule end date
          pattern: YYYY-MM-DD
        suspensionFee:
          type: number
          description: Suspension fee to be collected for a single frequency iteration
        frequency:
          enum:
            - one-off
            - weekly
            - fortnightly
            - four-weekly
            - monthly
            - bi-monthly
            - quarterly
          type: string
          description: Frequency of the suspension fee to be collected. Not required is SuspensionFee is 0.00 or Null
        numberOfPayments:
          type: integer
          description: Number of payment installments to be covered by this suspension schedule. Using this parameter will auto align the suspension start date to the next billing date
        scheduleDescription:
          type: string
          description: Description of the suspension schedule
        externalScheduleId:
          type: string
          description: External identifier of the suspension schedule
      required:
        - minimumEffectiveDate
        - suspensionFee
        - frequency
    CreatePaymentMethodRequest:
      type: object
      properties:
        accountId:
          maxLength: 15
          type: string
          description: Unique identifier associated to the account of the payment method to be created. Exactly one of CustomerId or AccountId is required
        holderName:
          maxLength: 50
          type: string
          description: 'Only contains alphanumeric, space and apostrophe'
        paymentMethodType:
          enum:
            - CreditCard
            - BankAccount
          type: string
          description: Type of payment method to be created
        number:
          maxLength: 30
          type: string
          description: Credit card number of bank account number. Only contains numeric
        cardType:
          type: string
          description: 'Type of credit card associated to the payment method. Required if paymentMethod is CreditCard. e.g. MAstercard, Visa, etc'
        cardExpiryDate:
          maxLength: 5
          minLength: 5
          type: string
          description: Expiry date of the credit card associated to the payment method to be created. Required if paymentMethod is CreditCard. Format  MM/yy
      required:
        - holderName
        - paymentMethodType
        - number
    PatchAccountRequest:
      type: object
      properties:
        PaymentMethodToken:
          type: string
      required:
        - PaymentMethodToken
    201CreatePaymentMethod:
      type: object
      properties:
        paymentMethodToken:
          type: string
        holderName:
          type: string
        paymentMethodType:
          type: string
        number:
          type: string
        cardType:
          type: string
        cardExpiryDate:
          type: string
    200GetPaymentMethod:
      type: object
      properties:
        paymentMethodToken:
          type: string
        paymentMethodType:
          type: string
        holderName:
          type: string
        cardNumber:
          type: string
        cardType:
          type: string
        cardExpiryDate:
          type: string
        defaultPaymentMethod:
          type: boolean
          description: Null if accountId is not provided
    201CreateOneOffSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        dueDate:
          type: string
        amount:
          type: number
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    200GetOneOffSchedule:
      type: object
      properties:
        scheduleId:
          type: string
        accountId:
          type: string
        dueDate:
          type: string
        amount:
          type: number
        scheduleDescription:
          type: string
        externalScheduleId:
          type: string
    200GetOneOffSchedules:
      type: object
      properties:
        oneOffSchedules:
          type: array
          items:
            type: object
            properties:
              scheduleId:
                type: string
              accountId:
                type: string
              dueDate:
                type: string
                format: date
                pattern: YYYY-MM-DD
              amount:
                type: number
              scheduleDescription:
                type: string
              externalScheduleId:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    422CreatePaymentMethod:
      type: object
      properties:
        message:
          type: string
    422DeleteOneOffSchedule:
      type: object
      properties:
        message:
          type: string
    200GetTermsAndConditions:
      type: object
      properties:
        businessAccountId:
          type: string
        name:
          type: string
        description:
          type: string
        termsHTML:
          type: string
    400CreateAccount:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    200GetPayments:
      type: object
      x-examples: {}
      title: ''
      properties:
        transactions:
          type: array
          items:
            type: object
            properties:
              businessAccountId:
                type: string
                description: Business Account's contract prefix associated to the Account of the transaction extracted
                maxLength: 6
              accountId:
                type: string
                description: System generated reference no associated to the Account of the transaction extracted
                maxLength: 15
              batchNumber:
                type: string
                description: Batch number of the transaction
              paymentAmount:
                type: string
                description: Amount of transaction
              paymentDateTime:
                type: string
                description: Date time when the transaction was made
              paymentDescription:
                type: string
                description: Description of transaction
                maxLength: 30
              paymentCode:
                type: string
                description: Transaction type
              paymentErrorCode:
                type: string
                description: Transaction payment method
              paymentMethod:
                type: string
                description: Transaction payment method
              paymentId:
                type: string
                description: Unique identifier for the payment
                maxLength: 10
              externalPaymentIdentifier:
                type: string
                description: External identifier for the transaction
                maxLength: 50
              reversedPaymentId:
                type: string
                description: Unique identifier for reversed payment
                maxLength: 10
              retryCount:
                type: integer
                description: Number of retry accumulated for the payment transaction
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    200UpdateCustomer:
      type: object
      properties:
        customerId:
          type: string
        businessId:
          type: string
        customerType:
          type: string
        title:
          type: string
        firstName:
          type: string
        middleName:
          type: string
        lastName:
          type: string
        gender:
          type: string
        dateOfBirth:
          type: string
    200UpdateAddress:
      type: object
      properties:
        addressId:
          type: string
        addressLine1:
          type: string
        addressLine2:
          type: string
        suburb:
          type: string
        state:
          type: string
        city:
          type: string
        postcode:
          type: string
        countryISOCode:
          type: string
        addressType:
          type: string
        isPrimary:
          type: boolean
    200UpdateEmailAddress:
      type: object
      properties:
        emailAddressId:
          type: string
        emailName:
          type: string
        emailAddress:
          type: string
        isPrimary:
          type: boolean
    UpdateEmailAddressRequest:
      type: object
      properties:
        emailName:
          maxLength: 50
          type: string
        emailAddress:
          maxLength: 75
          type: string
        isPrimary:
          enum:
            - true
          type: boolean
          description: 'Flag to set an email to be preferred email. Notes: false is not required, i.e. when an email is being updated to isPrimary=true, all other existing emails belong to the same customer will automatically set to false'
      required:
        - emailAddress
    200UpdatePhoneNumber:
      type: object
      properties:
        phoneNumberId:
          type: string
        phoneName:
          type: string
        countryCode:
          type: string
        areaCode:
          type: string
        phoneNumber:
          type: string
        phoneType:
          type: string
        isPrimary:
          type: boolean
    200PatchAccount:
      type: object
      properties:
        accountId:
          type: string
        paymentMethodToken:
          type: string
    AddAddressRequest:
      type: object
      properties:
        addressLine1:
          maxLength: 60
          type: string
          description: |-
            Address line 1. Max length 60 characters
            .
        addressLine2:
          maxLength: 60
          type: string
        suburb:
          maxLength: 50
          type: string
        state:
          maxLength: 3
          type: string
          description: State is mandatory for AU addresses and optional for NZ addresses.
        city:
          maxLength: 50
          type: string
        postcode:
          maxLength: 10
          type: string
          description: Postcode
        countryISOCode:
          maxLength: 3
          minLength: 3
          type: string
          description: '3 characters [Country ISO Code](https://debitsuccess.stoplight.io/docs/debitsuccess-api/docs/Introduction/6-Reference.md#countryisocode). For example, NZL,AUS,USA,SGP. '
        addressType:
          enum:
            - business
            - home
            - physical
            - postal
            - legal
          type: string
          description: Customers are not allowed to have multiple addresses with same address type
        isPrimary:
          enum:
            - true
            - false
          type: boolean
          description: Flag to set an address to be preferred for mailing
      required:
        - addressLine1
        - postcode
        - countryISOCode
        - addressType
        - isPrimary
    200UpdateAccount:
      type: object
      properties:
        accountId:
          type: string
        accountExternalId:
          type: string
        termType:
          type: string
        term:
          type: integer
        accountCode:
          type: string
        fixedTerm:
          type: boolean
        accountStartDate:
          type: string
        paymentsStopped:
          type: boolean
        paymentsStoppedEndDate:
          type: string
        contractAmount:
          type: number
    400closeAccount:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    closeAccountRequest:
      type: object
      properties:
        closureNotes:
          maxLength: 10000
          type: string
          description: Information regarding the account closure.
      required:
        - closureNotes
    CreateOneOffScheduleRequest:
      type: object
      description: Date (in UTC) when this schedule starts.
      properties:
        dueDate:
          type: string
          description: 'dueDate field must be in a date only format i.e., YYYY-MM-DD and is treated as local time.'
        amount:
          type: number
          description: Amount to be paid for this schedule. Must be >= $1
        scheduleDescription:
          type: string
          description: Description associated to this schedule
        externalScheduleId:
          type: string
          description: External identifier of the one-off schedule
      required:
        - dueDate
        - amount
    200PatchCustomer:
      type: object
      x-examples: {}
      properties:
        paymentMethodToken:
          type: string
        holderName:
          type: string
        paymentMethodType:
          type: string
        number:
          type: string
        cardType:
          type: string
        cardExpiryDate:
          type: string
    201CreatePaymentMethodForBA:
      type: object
      properties:
        oneTimePaymentMethodToken:
          type: string
        tokenExpiryDateTime:
          type: string
    PatchCustomerRequest:
      type: object
      properties:
        oneTimePaymentMethodToken:
          type: string
          description: The temporary token for the Payment Method created via the payment widget at Business account level.
      required:
        - oneTimePaymentMethodToken
    CreatePaymentMethodforBARequest:
      type: object
      properties:
        holderName:
          maxLength: 50
          type: string
          description: 'Only contains alphanumeric, space and apostrophe'
        paymentMethodType:
          enum:
            - CreditCard
            - BankAccount
          type: string
          description: Type of payment method to be created
        number:
          maxLength: 30
          type: string
          description: Credit card number of bank account number. Only contains numeric
        cardType:
          type: string
          description: 'Type of credit card associated to the payment method. Required if paymentMethod is CreditCard. e.g. MAstercard, Visa, etc'
        cardExpiryDate:
          maxLength: 5
          minLength: 5
          type: string
          description: Expiry date of the credit card associated to the payment method to be created. Required if paymentMethod is CreditCard. Format  MM/yy
        accountId:
          type: string
          description: Unique identifier associated to the account of the payment method to be created. Exactly one of CustomerId or AccountId is required.
          maxLength: 15
      required:
        - holderName
        - paymentMethodType
        - number
    UpdateAccountRequest:
      type: object
      properties:
        accountExternalId:
          maxLength: 50
          type: string
          description: New value to replace existing external reference associated to the Account to be updated
        termType:
          enum:
            - months
            - payments
          type: string
        term:
          type: integer
          description: Number of terms to complete the recurring payments
        accountCode:
          maxLength: 100
          type: string
          description: Account code associated to the Account to be created
        fixedTerm:
          enum:
            - true
            - false
          type: boolean
          description: 'Flag to set account to fixed term. Notes: users are NOT allowed to update a fixed term account (i.e. fixedTerm=true) to an ongoing account (i.e. fixedTerm=false)'
        accountStartDate:
          type: string
          description: 'YYYY-MM-DD, Determine the date (local time) when the account will start. Notes: users are not allowed to update accountStartDate after it past the current date. Updating accountStartDate will also adjust accordingly the start dates for all schedules associated to the account'
        paymentStopped:
          enum:
            - true
            - false
          type: boolean
          description: 'Flag to stop account payment. Notes: amount owing will continue to accure while payments are stopped'
        paymentStoppedEndDate:
          type: string
          description: 'YYYY-MM-DD, Set the date (local time) when the payment stopped order will end. PaymentStoppedEndDate is not allowed to be updated together with accountStartDate'
        contractAmount:
          type: number
          description: Total installments for all recurring schedules to be collected for the account before the account is past its minimum term
      required:
        - termType
        - term
        - fixedTerm
        - accountStartDate
        - paymentStopped
    UpdatePhoneNumberRequest:
      type: object
      properties:
        phoneName:
          maxLength: 50
          type: string
        countryCode:
          maxLength: 4
          type: string
          description: '+61, +64, +1'
        areaCode:
          maxLength: 4
          type: string
        phoneNumber:
          maxLength: 75
          type: string
          description: 'Allowed characters are: alphanumeric # + - ( ) * _ [space] , ; : . /'
        phonetype:
          enum:
            - emergency
            - fax
            - home
            - mobile
            - work
          type: string
        isPrimary:
          enum:
            - true
          type: boolean
          description: 'Flag to set a phone number to be preferred contact number. Notes: false is not required, i.e. when a phone number is being updated to isPrimary=true, all other existing phone number belong to the same customer will automatically set to false'
      required:
        - phoneName
        - phoneNumber
        - phonetype
    AddPhoneNumberRequest:
      type: object
      properties:
        phoneName:
          maxLength: 50
          type: string
        countryCode:
          maxLength: 4
          type: string
          description: 'For example, +61, +64, +1'
          example: '+61'
        areaCode:
          maxLength: 4
          type: string
        phoneNumber:
          maxLength: 75
          type: string
          description: 'Allowed characters are: alphanumeric # + - ( ) * _ [space] , ; : . /'
        phoneType:
          enum:
            - Emergency
            - Fax
            - Home
            - Mobile
            - Work
          type: string
        isPrimary:
          enum:
            - true
            - false
          type: boolean
          description: Flag to set a phone number to be preferred as primary phone number
      required:
        - phoneName
        - phoneNumber
        - phoneType
        - isPrimary
    201CreateAccount:
      type: object
      x-examples: {}
      properties:
        accountId:
          type: string
        accountExternalId:
          type: string
        customerId:
          type: string
        businessAccountId:
          type: string
        accountCode:
          type: string
        termType:
          type: string
        term:
          type: integer
        accountNotes:
          type: string
        fixedTerm:
          type: boolean
        nextBillingDate:
          type: string
        lastBillingDateTime:
          type: string
        overdueStatus:
          type: integer
        overdueAmountPayment:
          type: number
          description: Payment amount overdued. Negative amount refer to account is in credit for payments.
        overdueAmountFee:
          type: number
          description: Fee amount overdued. Negative amount refer to account is in credit for fees.
        lastReversalReason:
          type: string
        closeReason:
          type: string
        suspended:
          type: boolean
        paymentStopped:
          type: boolean
        paymentStopEndDate:
          type: string
        catchUpAmount:
          type: number
        catchUpEndDate:
          type: string
        paymentInAdvanceAmount:
          type: number
        paymentInAdvanceEnddate:
          type: string
        waiveEstFee:
          type: boolean
        accountStartDate:
          type: string
        accountLoadedDateTime:
          type: string
        accountCloseDateTime:
          type: string
        lastUpdatedDateTime:
          type: string
        accruedContractAmount:
          type: number
        originalContractAmount:
          type: number
        outstandingRecurringAmount:
          type: number
        outandingOneOffAmount:
          type: number
        outstandingFeeAmount:
          type: number
        projectedFinishDate:
          type: string
        paymentMethodToken:
          type: string
          description: PaymentMethod must be associated to the provided CustomerId.
        recurringSchedules:
          type: object
          properties:
            recurringScheduleStartDate:
              type: string
            installment:
              type: number
            frequency:
              type: string
            numberOfPayments:
              type: string
            externalScheduleId:
              type: string
            scheduleDescription:
              type: string
    CreateAccountRequest:
      type: object
      description: ''
      properties:
        customerId:
          type: string
          description: Unique identifier associated to the customer whom this account is created for
        businessAccountId:
          maxLength: 6
          type: string
          description: Contract Prefix associated to the business account where this account is created
        accountExternalId:
          maxLength: 50
          type: string
          description: External reference associated to the Account to be created
        accountCode:
          maxLength: 100
          type: string
          description: Account code associated to the Account to be created
        termType:
          enum:
            - months
            - payments
          type: string
          description: Indicate if the minimum term of the account will be in the unit of months or payments
        term:
          type: integer
          description: Number of terms before the account meets the contract minimum term requirement
        accountNotes:
          maxLength: 1000
          type: string
          description: Free form text. Can be used to capture account's activities and other account details
        fixedTerm:
          enum:
            - true
            - false
          type: boolean
          description: Flag to set account to closed at the end of the minimum term
        waiveEstFee:
          enum:
            - true
            - false
          type: boolean
          default: false
          description: |
            A flag to waive establishment fee is defaulted to be paid by Customer.
        alignEstFeeWithSchedule:
          enum:
            - true
            - false
          type: boolean
          default: false
          description: True will align the establishment fee to start on the Pay Schedule’s startdate. False will align the establishment fee to start on the Account’s startdate.
        accountStartDate:
          type: string
          description: 'YYYY-MM-DD, Determine the date (in UTC) when the account will start.'
        contractAmount:
          type: number
          description: Amount to be collected for the account (in terms of recurring payments) before the account is past its minimum term. Applicable for fixedTerm = true.
        paymentMethodToken:
          type: string
          description: Payment Method token to be assigned to the new account.
        recurringSchedules:
          type: array
          items:
            type: object
            properties:
              RecurringScheduleStartDate:
                type: string
                description: Recurring payment collection start date (in UTC). Must not be a date before accountStartDate or overlap with other recurring schedule
              installment:
                type: number
                description: Recurring payment amount
              frequency:
                enum:
                  - weekly
                  - fortnightly
                  - four-weekly
                  - monthly
                  - bi-monthly
                  - quarterly
                type: string
                description: Recurring payment installment frequency. Required if recurring installment > 0
              numberOfPayments:
                type: integer
                description: Number of installment to complete this schedule. Not required if (1) only 1 schedule is supplied or (2) the last schedule if more than 1 schedule supplied
              externalScheduleId:
                type: string
                description: External identifier of the recurring schedule
              sheduleDescription:
                type: string
                description: Description of the recurring payment schedule
            required:
              - RecurringScheduleStartDate
              - installment
              - frequency
      required:
        - customerId
        - businessAccountId
        - accountExternalId
        - termType
        - term
        - fixedTerm
        - accountStartDate
    GetPaymentTokenForAccountPaymentRequest:
      type: object
      properties:
        amount:
          type: integer
          description: Amount to pay. Current validation restricts this to at least $1 and not more than $2000 per transaction and only placing the account up to $500 in credit.
        callbackURL:
          type: string
          description: The URL the customer needs to be redirected to after the operation.
        createOneOffCharge:
          type: boolean
          description: '​true – If a payment is successful, a one-off schedule will be created for the Amount. false – If the payment is successful, Amount will be allocated to account balance.'
        paymentNote:
          type: string
          description: |-
            Any notes to be recorded against the payment. This field is required if CreateOneOffCharge is set to true. 
            Accepted characters are alphanumeric # + - ( ) * _ [space] , ; : . /
      required:
        - amount
        - callbackURL
        - createOneOffCharge
        - paymentNote
    GetPaymentTokenForCasualPaymentRequest:
      type: object
      properties:
        amount:
          type: integer
          description: Amount to pay. Current validation restricts this to at least $1 and not more than $2000 per transaction and only placing the account up to $500 in credit.
        callbackURL:
          type: string
          description: The URL the customer needs to be redirected to after the operation.
          maxLength: 256
        paymentNote:
          type: string
          description: |-
            Any notes to be recorded against the payment. 
            Accepted characters are alphanumeric # + - ( ) * _ [space] , ; : . /
          maxLength: 30
        paymentRef:
          type: string
          description: 'PaymentRef if provided must be unique at ContractPrefix level (i.e. Facility Account level). If PaymentRef provided has already been used before by the same Facility Account, it is rejected. Only accept characters alphanumeric # + - ( ) * _ [space] , ; : . / and [space] in front and at the back will be trimmed. Note: PaymentRef can be re-cycled if the token has expired before being used.'
      required:
        - amount
        - callbackURL
    CreateCustomerRequest:
      type: object
      properties:
        businessId:
          type: string
          description: Unique identifier associated to the Business
        customerType:
          enum:
            - Individual
            - Business
          type: string
          description: 'Indicate the type of customer to be created. Title, middleName, lastName, gender and dateOfBirth is NOT required for customer of Business type'
        title:
          maxLength: 10
          type: string
        firstName:
          maxLength: 40
          type: string
        middleName:
          maxLength: 40
          type: string
        lastName:
          maxLength: 40
          type: string
        gender:
          enum:
            - male
            - female
            - unspecified
            - non-binary
          type: string
        dateOfBirth:
          type: string
          description: YYYY-MM-DD
        externalReference:
          type: string
          description: External reference associated to the customer to be created
        address:
          type: object
          properties:
            addressLine1:
              maxLength: 60
              type: string
            addressLine2:
              maxLength: 60
              type: string
            suburb:
              maxLength: 50
              type: string
            postcode:
              maxLength: 10
              type: string
            state:
              maxLength: 3
              type: string
            city:
              maxLength: 50
              type: string
            countryISOCode:
              maxLength: 3
              minLength: 3
              type: string
              description: '3 characters Country ISO Code. For example, NZL,AUS,USA,SGP.'
            addressType:
              enum:
                - business
                - home
                - physical
                - postal
                - legal
              type: string
          required:
            - addressLine1
            - postcode
            - countryISOCode
            - addressType
        emailAddress:
          type: object
          properties:
            emailName:
              maxLength: 50
              type: string
            emailAddress:
              maxLength: 75
              type: string
          required:
            - emailAddress
        phoneNumber:
          type: object
          properties:
            phoneName:
              maxLength: 50
              type: string
            countryCode:
              maxLength: 4
              type: string
              description: 'For example, +61, +64, +1'
            areaCode:
              maxLength: 4
              type: string
            phoneNumber:
              maxLength: 75
              type: string
              description: 'Allowed characters are: alphanumeric # + - ( ) * _ [space] , ; : . /'
            phoneType:
              enum:
                - emergency
                - fax
                - home
                - mobile
                - work
              type: string
          required:
            - phoneName
            - countryCode
            - phoneNumber
            - phoneType
      required:
        - businessId
        - customerType
        - firstName
        - externalReference
    200GetCustomer:
      type: object
      properties:
        customerId:
          type: string
        business:
          type: object
          properties:
            businessId:
              type: string
            name:
              type: string
        customerType:
          type: string
        title:
          type: string
        firstName:
          type: string
        middleName:
          type: string
        lastName:
          type: string
        gender:
          type: string
        dateOfBirth:
          type: string
        externalReference:
          type: string
          description: External reference associated to the customer
    200GetAccount:
      type: object
      properties:
        accountId:
          type: string
        accountExternalId:
          maxLength: 50
          type: string
          description: External identifier associated to the account to be extracted.
        customerId:
          type: string
        businessAccountId:
          type: string
        termType:
          type: string
        term:
          type: integer
        accountCode:
          type: string
        accountNotes:
          type: string
          description: Free form text. Can be used to capture account's activities and other account details.
        fixedTerm:
          type: boolean
        nextBillingDate:
          type: string
        lastBillingDateTime:
          type: string
        overdueStatus:
          type: integer
        overdueAmountPayment:
          type: number
          description: Payment amount overdued. Negative amount refer to account is in credit for payments.
        overdueAmountFee:
          type: number
          description: Fee amount overdued. Negative amount refer to account is in credit for fees.
        lastReversalReason:
          type: string
        closeReason:
          type: string
        suspended:
          type: boolean
        paymentStopped:
          type: boolean
        paymentStopEndDate:
          type: string
        catchUpAmount:
          type: number
        catchUpEndDate:
          type: string
        paymentInAdvanceAmount:
          type: number
        paymentInAdvanceEnddate:
          type: string
        accountStartDate:
          type: string
        accountLoadedDateTime:
          type: string
        accountCloseDateTime:
          type: string
        lastUpdatedDateTime:
          type: string
        accruedContractAmount:
          type: number
        originalContractAmount:
          type: number
        outstandingRecurringAmount:
          type: number
        outandingOneOffAmount:
          type: number
        outstandingFeeAmount:
          type: number
        projectedFinishDate:
          type: string
        paymentMethodToken:
          type: string
          description: PaymentMethod must be associated to the provided CustomerId.
        collectionStopReason:
          type: string
          description: Reason for DD stop
    200GetAccounts:
      type: object
      properties:
        accounts:
          type: array
          items:
            type: object
            properties:
              accountId:
                type: string
              accountExternalId:
                maxLength: 50
                type: string
                description: External identifier associated to the account to be extracted.
              customerId:
                type: string
              businessAccountId:
                type: string
              termType:
                type: string
              term:
                type: integer
              accountCode:
                type: string
              accountNotes:
                type: string
                description: Free form text. Can be used to capture account's activities and other account details.
              fixedTerm:
                type: boolean
              nextBillingDate:
                type: string
              lastBillingDateTime:
                type: string
              overdueStatus:
                type: integer
              overdueAmountPayment:
                type: number
                description: Payment amount overdued. Negative amount refer to account is in credit for payments.
              overdueAmountFee:
                type: number
                description: Fee amount overdued. Negative amount refer to account is in credit for fees.
              lastReversalReason:
                type: string
              closeReason:
                type: string
              suspended:
                type: boolean
              paymentStopped:
                type: boolean
              paymentStopEndDate:
                type: string
              catchUpAmount:
                type: number
              catchUpEndDate:
                type: string
              paymentInAdvanceAmount:
                type: number
              paymentInAdvanceEnddate:
                type: string
              accountStartDate:
                type: string
              accountLoadedDateTime:
                type: string
              accountCloseDateTime:
                type: string
              lastUpdatedDateTime:
                type: string
              accruedContractAmount:
                type: number
              originalContractAmount:
                type: number
              outstandingRecurringAmount:
                type: number
              outstandingOneOffAmount:
                type: number
              outstandingFeeAmount:
                type: integer
              projectedFinishDate:
                type: string
              paymentMethodToken:
                type: string
                description: PaymentMethod must be associated to the provided CustomerId.
              collectionStopReason:
                type: string
                description: Reason for DD stop
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
            hasNext:
              type: boolean
    200GetBusinessAccount:
      description: ''
      type: object
      x-examples: {}
      properties:
        businessAccountId:
          type: string
          minLength: 1
        name:
          type: string
          minLength: 1
        active:
          type: boolean
        penaltyFee:
          type: object
          properties:
            amount:
              type: number
            payer:
              type: string
              minLength: 1
        establishmentFee:
          type: object
          properties:
            amount:
              type: number
            percent:
              type: number
            payer:
              type: string
              minLength: 1
        supportedPaymentMethods:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              paymentMethodType:
                type: string
                minLength: 1
        business:
          type: object
          properties:
            businessId:
              type: string
              minLength: 1
            name:
              type: string
              minLength: 1
    400PatchCustomer:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    400GetPaymentTokenForAccountPayment:
      type: object
      properties:
        errorCode:
          type: string
        message:
          type: string
        errors:
          type: array
          items:
            required:
              - field
              - message
            type: object
            properties:
              field:
                type: string
              message:
                type: string
    201GetPaymentTokenForAccountPayment:
      type: object
      properties:
        token:
          type: string
          description: Auto-generated token
        webhookToken:
          type: string
          description: Auto-generated webhook token
        validTo:
          type: string
          description: The expiry date and time of the token
        paymentFormURL:
          type: string
          description: URL where customer can make a payment. It will have the token appended
    201GetPaymentTokenForCasualPayment:
      type: object
      properties:
        token:
          type: string
          description: Auto-generated token
        webhookToken:
          type: string
          description: Auto-generated webhook token
        validTo:
          type: string
          description: The expiry date and time of the token
        paymentFormURL:
          type: string
          description: URL where customer can make a payment. It will have the token appended
    200GetPaymentStatus:
      description: ''
      type: object
      example:
        paymentStatuses:
          - businessAccountId: QP91F
            accountId: QP91F888950
            description: bae9e492-99e4-4578-8f32-1ae452c59cf9
            externalIdentifier: bae9e492-99e4-4578-8f32-1ae452c59cf9
            installment: 555.24
            paymentStatus: CreditControl
            scheduleId: 66292844
            startDate: '2020-03-27'
            statusDateTime: '2020-03-27T04:30:40.070Z'
            errorCode: ''
          - businessAccountId: QP91F
            accountId: QP91F888950
            description: bae9e492-99e4-4578-8f32-1ae452c59cf9
            externalIdentifier: bae9e492-99e4-4578-8f32-1ae452c59cf9
            installment: 555.24
            paymentStatus: Failed
            scheduleId: 66292844
            startDate: '2020-03-27'
            statusDateTime: '2020-03-27T04:59:29.000Z'
            errorCode: Insufficient Funds
          - businessAccountId: QP91F
            accountId: QP91F888956
            description: 99347f65-cdaf-4d59-9926-a0f15bf96555
            externalIdentifier: 99347f65-cdaf-4d59-9926-a0f15bf96555
            installment: 365
            paymentStatus: Pending
            scheduleId: 64674481
            startDate: '2020-03-20'
            statusDateTime: '2020-03-20T05:19:14.143Z'
            errorCode: ''
        responseMetadata:
          nextCursor: Mjg1MjE=
          hasNext: true
      properties:
        paymentStatuses:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              businessAccountId:
                type: string
                minLength: 1
              accountId:
                type: string
                minLength: 1
              description:
                type: string
                minLength: 1
              externalIdentifier:
                type: string
                minLength: 1
              installment:
                type: number
              paymentStatus:
                type: string
                minLength: 1
              scheduleId:
                type: number
              startDate:
                type: string
                minLength: 1
              statusDateTime:
                type: string
                minLength: 1
              errorCode:
                type: string
        responseMetadata:
          type: object
          properties:
            nextCursor:
              type: string
              minLength: 1
            hasNext:
              type: boolean
  securitySchemes:
    apiKeyHeader:
      type: apiKey
      name: Ocp-Apim-Subscription-Key
      in: header
    apiKeyQuery:
      type: apiKey
      name: subscription-key
      in: query
